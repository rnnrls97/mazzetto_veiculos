import {
  __commonJS,
  __require
} from "./chunk-LK32TJAX.js";

// node_modules/@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.min.js
var require_mapbox_gl_geocoder_min = __commonJS({
  "node_modules/@mapbox/mapbox-gl-geocoder/dist/mapbox-gl-geocoder.min.js"(exports, module) {
    !function(t) {
      if ("object" == typeof exports && "undefined" != typeof module) module.exports = t();
      else if ("function" == typeof define && define.amd) define([], t);
      else {
        var e;
        e = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, e.MapboxGeocoder = t();
      }
    }(function() {
      var t;
      return (/* @__PURE__ */ function() {
        function t2(e, n, i) {
          function r(s2, a) {
            if (!n[s2]) {
              if (!e[s2]) {
                var u = "function" == typeof __require && __require;
                if (!a && u) return u(s2, true);
                if (o) return o(s2, true);
                var c = new Error("Cannot find module '" + s2 + "'");
                throw c.code = "MODULE_NOT_FOUND", c;
              }
              var l = n[s2] = { exports: {} };
              e[s2][0].call(l.exports, function(t3) {
                return r(e[s2][1][t3] || t3);
              }, l, l.exports, t2, e, n, i);
            }
            return n[s2].exports;
          }
          for (var o = "function" == typeof __require && __require, s = 0; s < i.length; s++) r(i[s]);
          return r;
        }
        return t2;
      }())({ 1: [function(t2, e, n) {
        "use strict";
        function i(t3) {
          "@babel/helpers - typeof";
          return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
            return typeof t4;
          } : function(t4) {
            return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
          })(t3);
        }
        function r(t3) {
          this.origin = t3.origin || "https://api.mapbox.com", this.endpoint = "events/v2", this.access_token = t3.accessToken, this.version = "0.2.0", this.sessionID = this.generateSessionID(), this.userAgent = this.getUserAgent(), this.options = t3, this.send = this.send.bind(this), this.countries = t3.countries ? t3.countries.split(",") : null, this.types = t3.types ? t3.types.split(",") : null, this.bbox = t3.bbox ? t3.bbox : null, this.language = t3.language ? t3.language.split(",") : null, this.limit = t3.limit ? +t3.limit : null, this.locale = navigator.language || null, this.enableEventLogging = this.shouldEnableLogging(t3), this.eventQueue = new Array(), this.flushInterval = t3.flushInterval || 1e3, this.maxQueueSize = t3.maxQueueSize || 100, this.timer = this.flushInterval ? setTimeout(this.flush.bind(this), this.flushInterval) : null, this.lastSentInput = "", this.lastSentIndex = 0;
        }
        var o = t2("nanoid").nanoid;
        r.prototype = { select: function(t3, e2) {
          var n2 = this.getSelectedIndex(t3, e2), i2 = this.getEventPayload("search.select", e2);
          if (i2.resultIndex = n2, i2.resultPlaceName = t3.place_name, i2.resultId = t3.id, (n2 !== this.lastSentIndex || i2.queryString !== this.lastSentInput) && -1 != n2 && (this.lastSentIndex = n2, this.lastSentInput = i2.queryString, i2.queryString)) return this.push(i2);
        }, start: function(t3) {
          var e2 = this.getEventPayload("search.start", t3);
          if (e2.queryString) return this.push(e2);
        }, keyevent: function(t3, e2) {
          if (t3.key && !t3.metaKey && -1 === [9, 27, 37, 39, 13, 38, 40].indexOf(t3.keyCode)) {
            var n2 = this.getEventPayload("search.keystroke", e2);
            if (n2.lastAction = t3.key, n2.queryString) return this.push(n2);
          }
        }, send: function(t3, e2) {
          if (this.enableEventLogging) {
            var n2 = this.getRequestOptions(t3);
            this.request(n2, (function(t4) {
              return t4 ? this.handleError(t4, e2) : e2 ? e2() : void 0;
            }).bind(this));
          } else if (e2) return e2();
        }, getRequestOptions: function(t3) {
          return Array.isArray(t3) || (t3 = [t3]), { method: "POST", host: this.origin, path: this.endpoint + "?access_token=" + this.access_token, headers: { "Content-Type": "application/json" }, body: JSON.stringify(t3) };
        }, getEventPayload: function(t3, e2) {
          var n2;
          n2 = e2.options.proximity ? "object" === i(e2.options.proximity) ? [e2.options.proximity.longitude, e2.options.proximity.latitude] : "ip" === e2.options.proximity ? [999, 999] : e2.options.proximity : null;
          var r2 = e2._map ? e2._map.getZoom() : void 0, o2 = { event: t3, created: +/* @__PURE__ */ new Date(), sessionIdentifier: this.sessionID, country: this.countries, userAgent: this.userAgent, language: this.language, bbox: this.bbox, types: this.types, endpoint: "mapbox.places", autocomplete: e2.options.autocomplete, fuzzyMatch: e2.options.fuzzyMatch, proximity: n2, limit: e2.options.limit, routing: e2.options.routing, worldview: e2.options.worldview, mapZoom: r2, keyboardLocale: this.locale };
          return "search.select" === t3 ? o2.queryString = e2.inputString : "search.select" != t3 && e2._inputEl ? o2.queryString = e2._inputEl.value : o2.queryString = e2.inputString, o2;
        }, request: function(t3, e2) {
          var n2 = new XMLHttpRequest();
          n2.onreadystatechange = function() {
            if (4 == this.readyState) return e2(204 == this.status ? null : this.statusText);
          }, n2.open(t3.method, t3.host + "/" + t3.path, true);
          for (var i2 in t3.headers) {
            var r2 = t3.headers[i2];
            n2.setRequestHeader(i2, r2);
          }
          n2.send(t3.body);
        }, handleError: function(t3, e2) {
          if (e2) return e2(t3);
        }, generateSessionID: function() {
          return o();
        }, getUserAgent: function() {
          return "mapbox-gl-geocoder." + this.version + "." + navigator.userAgent;
        }, getSelectedIndex: function(t3, e2) {
          if (e2._typeahead) {
            var n2 = e2._typeahead.data, i2 = t3.id;
            return n2.map(function(t4) {
              return t4.id;
            }).indexOf(i2);
          }
        }, shouldEnableLogging: function(t3) {
          return false !== t3.enableEventLogging && ((!t3.origin || "https://api.mapbox.com" === t3.origin) && (!t3.localGeocoder && !t3.filter));
        }, flush: function() {
          this.eventQueue.length > 0 && (this.send(this.eventQueue), this.eventQueue = new Array()), this.timer && clearTimeout(this.timer), this.flushInterval && (this.timer = setTimeout(this.flush.bind(this), this.flushInterval));
        }, push: function(t3, e2) {
          this.eventQueue.push(t3), (this.eventQueue.length >= this.maxQueueSize || e2) && this.flush();
        }, remove: function() {
          this.flush();
        } }, e.exports = r;
      }, { nanoid: 32 }], 2: [function(t2, e, n) {
        "use strict";
        e.exports = { fr: { name: "France", bbox: [[-4.59235, 41.380007], [9.560016, 51.148506]] }, us: { name: "United States", bbox: [[-171.791111, 18.91619], [-66.96466, 71.357764]] }, ru: { name: "Russia", bbox: [[19.66064, 41.151416], [190.10042, 81.2504]] }, ca: { name: "Canada", bbox: [[-140.99778, 41.675105], [-52.648099, 83.23324]] } };
      }, {}], 3: [function(t2, e, n) {
        "use strict";
        function i() {
        }
        i.prototype = { isSupport: function() {
          return Boolean(window.navigator.geolocation);
        }, getCurrentPosition: function() {
          var t3 = { enableHighAccuracy: true };
          return new Promise(function(e2, n2) {
            window.navigator.geolocation.getCurrentPosition(e2, n2, t3);
          });
        } }, e.exports = i;
      }, {}], 4: [function(t2, e, n) {
        "use strict";
        function i() {
          var t3 = document.createElement("div");
          return t3.className = "mapboxgl-ctrl-geocoder--powered-by", t3.innerHTML = '<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>', t3;
        }
        function r(t3) {
          this._eventEmitter = new u(), this.options = a({}, this.options, t3), this.inputString = "", this.fresh = true, this.lastSelected = null, this.geolocation = new g();
        }
        var o = t2("suggestions"), s = t2("lodash.debounce"), a = t2("xtend"), u = t2("events").EventEmitter, c = t2("./exceptions"), l = t2("@mapbox/mapbox-sdk"), h = t2("@mapbox/mapbox-sdk/services/geocoding"), p = t2("./events"), f = t2("./localization"), d = t2("subtag"), g = t2("./geolocation"), m = t2("./utils"), y = { FORWARD: 0, LOCAL: 1, REVERSE: 2 };
        r.prototype = { options: { zoom: 16, flyTo: true, trackProximity: true, minLength: 2, reverseGeocode: false, flipCoordinates: false, limit: 5, origin: "https://api.mapbox.com", enableEventLogging: true, marker: true, mapboxgl: null, collapsed: false, clearAndBlurOnEsc: false, clearOnBlur: false, enableGeolocation: false, addressAccuracy: "street", getItemValue: function(t3) {
          return t3.place_name;
        }, render: function(t3) {
          var e2 = t3.place_name.split(",");
          return '<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">' + e2[0] + '</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">' + e2.splice(1, e2.length).join(",") + "</div></div>";
        } }, addTo: function(t3) {
          function e2(t4, e3) {
            if (!document.body.contains(e3)) throw new Error("Element provided to #addTo() exists, but is not in the DOM");
            var n3 = t4.onAdd();
            e3.appendChild(n3);
          }
          if (t3._controlContainer) t3.addControl(this);
          else if (t3 instanceof HTMLElement) e2(this, t3);
          else {
            if ("string" != typeof t3) throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element");
            var n2 = document.querySelectorAll(t3);
            if (0 === n2.length) throw new Error("Element ", t3, "not found.");
            if (n2.length > 1) throw new Error("Geocoder can only be added to a single html element");
            e2(this, n2[0]);
          }
        }, onAdd: function(t3) {
          if (t3 && "string" != typeof t3 && (this._map = t3), this.setLanguage(), this.options.localGeocoderOnly || (this.geocoderService = h(l({ accessToken: this.options.accessToken, origin: this.options.origin }))), this.options.localGeocoderOnly && !this.options.localGeocoder) throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");
          this.eventManager = new p(this.options), this._onChange = this._onChange.bind(this), this._onKeyDown = this._onKeyDown.bind(this), this._onPaste = this._onPaste.bind(this), this._onBlur = this._onBlur.bind(this), this._showButton = this._showButton.bind(this), this._hideButton = this._hideButton.bind(this), this._onQueryResult = this._onQueryResult.bind(this), this.clear = this.clear.bind(this), this._updateProximity = this._updateProximity.bind(this), this._collapse = this._collapse.bind(this), this._unCollapse = this._unCollapse.bind(this), this._clear = this._clear.bind(this), this._clearOnBlur = this._clearOnBlur.bind(this), this._geolocateUser = this._geolocateUser.bind(this);
          var e2 = this.container = document.createElement("div");
          e2.className = "mapboxgl-ctrl-geocoder mapboxgl-ctrl";
          var n2 = this.createIcon("search", '<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');
          this._inputEl = document.createElement("input"), this._inputEl.type = "text", this._inputEl.className = "mapboxgl-ctrl-geocoder--input", this.setPlaceholder(), this.options.collapsed && (this._collapse(), this.container.addEventListener("mouseenter", this._unCollapse), this.container.addEventListener("mouseleave", this._collapse), this._inputEl.addEventListener("focus", this._unCollapse)), (this.options.collapsed || this.options.clearOnBlur) && this._inputEl.addEventListener("blur", this._onBlur), this._inputEl.addEventListener("keydown", s(this._onKeyDown, 200)), this._inputEl.addEventListener("paste", this._onPaste), this._inputEl.addEventListener("change", this._onChange), this.container.addEventListener("mouseenter", this._showButton), this.container.addEventListener("mouseleave", this._hideButton), this._inputEl.addEventListener("keyup", (function(t4) {
            this.eventManager.keyevent(t4, this);
          }).bind(this));
          var r2 = document.createElement("div");
          r2.classList.add("mapboxgl-ctrl-geocoder--pin-right"), this._clearEl = document.createElement("button"), this._clearEl.setAttribute("aria-label", "Clear"), this._clearEl.addEventListener("click", this.clear), this._clearEl.className = "mapboxgl-ctrl-geocoder--button";
          var a2 = this.createIcon("close", '<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');
          if (this._clearEl.appendChild(a2), this._loadingEl = this.createIcon("loading", '<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'), r2.appendChild(this._clearEl), r2.appendChild(this._loadingEl), e2.appendChild(n2), e2.appendChild(this._inputEl), e2.appendChild(r2), this.options.enableGeolocation && this.geolocation.isSupport()) {
            this._geolocateEl = document.createElement("button"), this._geolocateEl.setAttribute("aria-label", "Geolocate"), this._geolocateEl.addEventListener("click", this._geolocateUser), this._geolocateEl.className = "mapboxgl-ctrl-geocoder--button";
            var u2 = this.createIcon("geolocate", '<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');
            this._geolocateEl.appendChild(u2), r2.appendChild(this._geolocateEl), this._showGeolocateButton();
          }
          var c2 = this._typeahead = new o(this._inputEl, [], { filter: false, minLength: this.options.minLength, limit: this.options.limit });
          this.setRenderFunction(this.options.render), c2.getItemValue = this.options.getItemValue;
          var f2 = c2.list.draw, d2 = this._footerNode = i();
          return c2.list.draw = function() {
            f2.call(this), d2.addEventListener("mousedown", (function() {
              this.selectingListItem = true;
            }).bind(this)), d2.addEventListener("mouseup", (function() {
              this.selectingListItem = false;
            }).bind(this)), this.element.appendChild(d2);
          }, this.mapMarker = null, this._handleMarker = this._handleMarker.bind(this), this._map && (this.options.trackProximity && (this._updateProximity(), this._map.on("moveend", this._updateProximity)), this._mapboxgl = this.options.mapboxgl, !this._mapboxgl && this.options.marker && (console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."), this.options.marker = false)), e2;
        }, _geolocateUser: function() {
          this._hideGeolocateButton(), this._showLoadingIcon(), this.geolocation.getCurrentPosition().then((function(t3) {
            this._hideLoadingIcon();
            var e2 = { geometry: { type: "Point", coordinates: [t3.coords.longitude, t3.coords.latitude] } };
            this._handleMarker(e2), this._fly(e2), this._typeahead.clear(), this._typeahead.selected = true, this.lastSelected = JSON.stringify(e2), this._showClearButton(), this.fresh = false;
            var n2 = { limit: 1, language: [this.options.language], query: e2.geometry.coordinates, types: ["address"] };
            if (this.options.localGeocoderOnly) {
              var i2 = e2.geometry.coordinates[0] + "," + e2.geometry.coordinates[1];
              this._setInputValue(i2), this._eventEmitter.emit("result", { result: e2 });
            } else this.geocoderService.reverseGeocode(n2).send().then((function(t4) {
              var n3 = t4.body.features[0];
              if (n3) {
                var i3 = m.transformFeatureToGeolocationText(n3, this.options.addressAccuracy);
                this._setInputValue(i3), n3.user_coordinates = e2.geometry.coordinates, this._eventEmitter.emit("result", { result: n3 });
              } else this._eventEmitter.emit("result", { result: { user_coordinates: e2.geometry.coordinates } });
            }).bind(this));
          }).bind(this)).catch((function(t3) {
            1 === t3.code ? this._renderUserDeniedGeolocationError() : this._renderLocationError(), this._hideLoadingIcon(), this._showGeolocateButton(), this._hideAttribution();
          }).bind(this));
        }, createIcon: function(t3, e2) {
          var n2 = document.createElementNS("http://www.w3.org/2000/svg", "svg");
          return n2.setAttribute("class", "mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-" + t3), n2.setAttribute("viewBox", "0 0 18 18"), n2.setAttribute("xml:space", "preserve"), n2.setAttribute("width", 18), n2.setAttribute("height", 18), n2.innerHTML = e2, n2;
        }, onRemove: function() {
          return this.container.parentNode.removeChild(this.container), this.options.trackProximity && this._map && this._map.off("moveend", this._updateProximity), this._removeMarker(), this._map = null, this;
        }, _setInputValue: function(t3) {
          this._inputEl.value = t3, setTimeout((function() {
            this._inputEl.focus(), this._inputEl.scrollLeft = 0, this._inputEl.setSelectionRange(0, 0);
          }).bind(this), 1);
        }, _onPaste: function(t3) {
          var e2 = (t3.clipboardData || window.clipboardData).getData("text");
          e2.length >= this.options.minLength && this._geocode(e2);
        }, _onKeyDown: function(t3) {
          if (27 === t3.keyCode && this.options.clearAndBlurOnEsc) return this._clear(t3), this._inputEl.blur();
          var e2 = t3.target && t3.target.shadowRoot ? t3.target.shadowRoot.activeElement : t3.target;
          if (!(e2 ? e2.value : "")) return this.fresh = true, 9 !== t3.keyCode && this.clear(t3), this._showGeolocateButton(), this._hideClearButton();
          this._hideGeolocateButton(), t3.metaKey || -1 !== [9, 27, 37, 39, 13, 38, 40].indexOf(t3.keyCode) || e2.value.length >= this.options.minLength && this._geocode(e2.value);
        }, _showButton: function() {
          this._typeahead.selected && this._showClearButton();
        }, _hideButton: function() {
          this._typeahead.selected && this._hideClearButton();
        }, _showClearButton: function() {
          this._clearEl.style.display = "block";
        }, _hideClearButton: function() {
          this._clearEl.style.display = "none";
        }, _showGeolocateButton: function() {
          this._geolocateEl && this.geolocation.isSupport() && (this._geolocateEl.style.display = "block");
        }, _hideGeolocateButton: function() {
          this._geolocateEl && (this._geolocateEl.style.display = "none");
        }, _showLoadingIcon: function() {
          this._loadingEl.style.display = "block";
        }, _hideLoadingIcon: function() {
          this._loadingEl.style.display = "none";
        }, _showAttribution: function() {
          this._footerNode.style.display = "block";
        }, _hideAttribution: function() {
          this._footerNode.style.display = "none";
        }, _onBlur: function(t3) {
          this.options.clearOnBlur && this._clearOnBlur(t3), this.options.collapsed && this._collapse();
        }, _onChange: function() {
          var t3 = this._typeahead.selected;
          t3 && JSON.stringify(t3) !== this.lastSelected && (this._hideClearButton(), this.options.flyTo && this._fly(t3), this.options.marker && this._mapboxgl && this._handleMarker(t3), this._inputEl.focus(), this._inputEl.scrollLeft = 0, this._inputEl.setSelectionRange(0, 0), this.lastSelected = JSON.stringify(t3), this._eventEmitter.emit("result", { result: t3 }), this.eventManager.select(t3, this));
        }, _fly: function(t3) {
          var e2;
          if (t3.properties && c[t3.properties.short_code]) e2 = a({}, this.options.flyTo), this._map && this._map.fitBounds(c[t3.properties.short_code].bbox, e2);
          else if (t3.bbox) {
            var n2 = t3.bbox;
            e2 = a({}, this.options.flyTo), this._map && this._map.fitBounds([[n2[0], n2[1]], [n2[2], n2[3]]], e2);
          } else {
            var i2 = { zoom: this.options.zoom };
            e2 = a({}, i2, this.options.flyTo), t3.center ? e2.center = t3.center : t3.geometry && t3.geometry.type && "Point" === t3.geometry.type && t3.geometry.coordinates && (e2.center = t3.geometry.coordinates), this._map && this._map.flyTo(e2);
          }
        }, _requestType: function(t3, e2) {
          return t3.localGeocoderOnly ? y.LOCAL : t3.reverseGeocode && m.REVERSE_GEOCODE_COORD_RGX.test(e2) ? y.REVERSE : y.FORWARD;
        }, _setupConfig: function(t3, e2) {
          var n2 = ["bbox", "limit", "proximity", "countries", "types", "language", "reverseMode", "mode", "autocomplete", "fuzzyMatch", "routing", "worldview"], i2 = /[\s,]+/, r2 = this, o2 = n2.reduce(function(t4, e3) {
            if (void 0 === r2.options[e3] || null === r2.options[e3]) return t4;
            ["countries", "types", "language"].indexOf(e3) > -1 ? t4[e3] = r2.options[e3].split(i2) : t4[e3] = r2.options[e3];
            var n3 = "number" == typeof r2.options[e3].longitude && "number" == typeof r2.options[e3].latitude;
            if ("proximity" === e3 && n3) {
              var o3 = r2.options[e3].longitude, s3 = r2.options[e3].latitude;
              t4[e3] = [o3, s3];
            }
            return t4;
          }, {});
          switch (t3) {
            case y.REVERSE:
              var s2 = e2.split(i2).map(function(t4) {
                return parseFloat(t4, 10);
              });
              r2.options.flipCoordinates || s2.reverse(), o2.types && o2.types[0], o2 = a(o2, { query: s2, limit: 1 }), ["proximity", "autocomplete", "fuzzyMatch", "bbox"].forEach(function(t4) {
                t4 in o2 && delete o2[t4];
              });
              break;
            case y.FORWARD:
              /^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(e2.trim()) && (e2 = e2.replace(/,/g, " ")), o2 = a(o2, { query: e2 });
          }
          return o2;
        }, _geocode: function(t3) {
          this.inputString = t3, this._showLoadingIcon(), this._eventEmitter.emit("loading", { query: t3 });
          var e2, n2 = this._requestType(this.options, t3), i2 = this._setupConfig(n2, t3);
          switch (n2) {
            case y.LOCAL:
              e2 = Promise.resolve();
              break;
            case y.FORWARD:
              e2 = this.geocoderService.forwardGeocode(i2).send();
              break;
            case y.REVERSE:
              e2 = this.geocoderService.reverseGeocode(i2).send();
          }
          var r2 = this.options.localGeocoder ? this.options.localGeocoder(t3) || [] : [], o2 = [], s2 = null;
          return e2.catch((function(t4) {
            s2 = t4;
          }).bind(this)).then((function(e3) {
            this._hideLoadingIcon();
            var n3 = {};
            return e3 ? "200" == e3.statusCode && (n3 = e3.body, n3.request = e3.request, n3.headers = e3.headers) : n3 = { type: "FeatureCollection", features: [] }, n3.config = i2, this.fresh && (this.eventManager.start(this), this.fresh = false), n3.features = n3.features ? r2.concat(n3.features) : r2, this.options.externalGeocoder ? (o2 = this.options.externalGeocoder(t3, n3.features) || Promise.resolve([]), o2.then(function(t4) {
              return n3.features = n3.features ? t4.concat(n3.features) : t4, n3;
            }, function() {
              return n3;
            })) : n3;
          }).bind(this)).then((function(t4) {
            if (s2) throw s2;
            this.options.filter && t4.features.length && (t4.features = t4.features.filter(this.options.filter)), t4.features.length ? (this._showClearButton(), this._hideGeolocateButton(), this._showAttribution(), this._eventEmitter.emit("results", t4), this._typeahead.update(t4.features)) : (this._hideClearButton(), this._hideAttribution(), this._typeahead.selected = null, this._renderNoResults(), this._eventEmitter.emit("results", t4));
          }).bind(this)).catch((function(t4) {
            this._hideLoadingIcon(), this._hideAttribution(), r2.length && this.options.localGeocoder || o2.length && this.options.externalGeocoder ? (this._showClearButton(), this._hideGeolocateButton(), this._typeahead.update(r2)) : (this._hideClearButton(), this._typeahead.selected = null, this._renderError()), this._eventEmitter.emit("results", { features: r2 }), this._eventEmitter.emit("error", { error: t4 });
          }).bind(this)), e2;
        }, _clear: function(t3) {
          t3 && t3.preventDefault(), this._inputEl.value = "", this._typeahead.selected = null, this._typeahead.clear(), this._onChange(), this._hideClearButton(), this._showGeolocateButton(), this._removeMarker(), this.lastSelected = null, this._eventEmitter.emit("clear"), this.fresh = true;
        }, clear: function(t3) {
          this._clear(t3), this._inputEl.focus();
        }, _clearOnBlur: function(t3) {
          var e2 = this;
          t3.relatedTarget && e2._clear(t3);
        }, _onQueryResult: function(t3) {
          var e2 = t3.body;
          if (e2.features.length) {
            var n2 = e2.features[0];
            this._typeahead.selected = n2, this._inputEl.value = n2.place_name, this._onChange();
          }
        }, _updateProximity: function() {
          if (this._map && this.options.trackProximity) if (this._map.getZoom() > 9) {
            var t3 = this._map.getCenter().wrap();
            this.setProximity({ longitude: t3.lng, latitude: t3.lat }, false);
          } else this.setProximity(null, false);
        }, _collapse: function() {
          this._inputEl.value || this._inputEl === document.activeElement || this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed");
        }, _unCollapse: function() {
          this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed");
        }, query: function(t3) {
          return this._geocode(t3).then(this._onQueryResult), this;
        }, _renderError: function() {
          this._renderMessage("<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>");
        }, _renderLocationError: function() {
          this._renderMessage("<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>");
        }, _renderNoResults: function() {
          this._renderMessage("<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>");
        }, _renderUserDeniedGeolocationError: function() {
          this._renderMessage("<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>");
        }, _renderMessage: function(t3) {
          this._typeahead.update([]), this._typeahead.selected = null, this._typeahead.clear(), this._typeahead.renderError(t3);
        }, _getPlaceholderText: function() {
          if (this.options.placeholder) return this.options.placeholder;
          if (this.options.language) {
            var t3 = this.options.language.split(",")[0], e2 = d.language(t3), n2 = f.placeholder[e2];
            if (n2) return n2;
          }
          return "Search";
        }, setInput: function(t3, e2) {
          return void 0 === e2 && (e2 = false), this._inputEl.value = t3, this._typeahead.selected = null, this._typeahead.clear(), t3.length >= this.options.minLength && (e2 ? this._geocode(t3) : this._onChange()), this;
        }, setProximity: function(t3) {
          var e2 = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
          return this.options.proximity = t3, e2 && (this.options.trackProximity = false), this;
        }, getProximity: function() {
          return this.options.proximity;
        }, setRenderFunction: function(t3) {
          return t3 && "function" == typeof t3 && (this._typeahead.render = t3), this;
        }, getRenderFunction: function() {
          return this._typeahead.render;
        }, setLanguage: function(t3) {
          var e2 = navigator.language || navigator.userLanguage || navigator.browserLanguage;
          return this.options.language = t3 || this.options.language || e2, this;
        }, getLanguage: function() {
          return this.options.language;
        }, getZoom: function() {
          return this.options.zoom;
        }, setZoom: function(t3) {
          return this.options.zoom = t3, this;
        }, getFlyTo: function() {
          return this.options.flyTo;
        }, setFlyTo: function(t3) {
          return this.options.flyTo = t3, this;
        }, getPlaceholder: function() {
          return this.options.placeholder;
        }, setPlaceholder: function(t3) {
          return this.options.placeholder = t3 || this._getPlaceholderText(), this._inputEl.placeholder = this.options.placeholder, this._inputEl.setAttribute("aria-label", this.options.placeholder), this;
        }, getBbox: function() {
          return this.options.bbox;
        }, setBbox: function(t3) {
          return this.options.bbox = t3, this;
        }, getCountries: function() {
          return this.options.countries;
        }, setCountries: function(t3) {
          return this.options.countries = t3, this;
        }, getTypes: function() {
          return this.options.types;
        }, setTypes: function(t3) {
          return this.options.types = t3, this;
        }, getMinLength: function() {
          return this.options.minLength;
        }, setMinLength: function(t3) {
          return this.options.minLength = t3, this._typeahead && (this._typeahead.options.minLength = t3), this;
        }, getLimit: function() {
          return this.options.limit;
        }, setLimit: function(t3) {
          return this.options.limit = t3, this._typeahead && (this._typeahead.options.limit = t3), this;
        }, getFilter: function() {
          return this.options.filter;
        }, setFilter: function(t3) {
          return this.options.filter = t3, this;
        }, setOrigin: function(t3) {
          return this.options.origin = t3, this.geocoderService = h(l({ accessToken: this.options.accessToken, origin: this.options.origin })), this;
        }, getOrigin: function() {
          return this.options.origin;
        }, setAccessToken: function(t3) {
          return this.options.accessToken = t3, this.geocoderService = h(l({ accessToken: this.options.accessToken, origin: this.options.origin })), this;
        }, setAutocomplete: function(t3) {
          return this.options.autocomplete = t3, this;
        }, getAutocomplete: function() {
          return this.options.autocomplete;
        }, setFuzzyMatch: function(t3) {
          return this.options.fuzzyMatch = t3, this;
        }, getFuzzyMatch: function() {
          return this.options.fuzzyMatch;
        }, setRouting: function(t3) {
          return this.options.routing = t3, this;
        }, getRouting: function() {
          return this.options.routing;
        }, setWorldview: function(t3) {
          return this.options.worldview = t3, this;
        }, getWorldview: function() {
          return this.options.worldview;
        }, _handleMarker: function(t3) {
          if (this._map) {
            this._removeMarker();
            var e2 = { color: "#4668F2" }, n2 = a({}, e2, this.options.marker);
            return this.mapMarker = new this._mapboxgl.Marker(n2), t3.center ? this.mapMarker.setLngLat(t3.center).addTo(this._map) : t3.geometry && t3.geometry.type && "Point" === t3.geometry.type && t3.geometry.coordinates && this.mapMarker.setLngLat(t3.geometry.coordinates).addTo(this._map), this;
          }
        }, _removeMarker: function() {
          this.mapMarker && (this.mapMarker.remove(), this.mapMarker = null);
        }, on: function(t3, e2) {
          return this._eventEmitter.on(t3, e2), this;
        }, off: function(t3, e2) {
          return this._eventEmitter.removeListener(t3, e2), this.eventManager.remove(), this;
        } }, e.exports = r;
      }, { "./events": 1, "./exceptions": 2, "./geolocation": 3, "./localization": 5, "./utils": 6, "@mapbox/mapbox-sdk": 8, "@mapbox/mapbox-sdk/services/geocoding": 19, events: 27, "lodash.debounce": 31, subtag: 35, suggestions: 36, xtend: 39 }], 5: [function(t2, e, n) {
        "use strict";
        var i = { de: "Suche", it: "Ricerca", en: "Search", nl: "Zoeken", fr: "Chercher", ca: "Cerca", he: "לחפש", ja: "サーチ", lv: "Meklēt", pt: "Procurar", sr: "Претрага", zh: "搜索", cs: "Vyhledávání", hu: "Keresés", ka: "ძიება", nb: "Søke", sk: "Vyhľadávanie", th: "ค้นหา", fi: "Hae", is: "Leita", ko: "수색", pl: "Szukaj", sl: "Iskanje", fa: "جستجو", ru: "Поиск" };
        e.exports = { placeholder: i };
      }, {}], 6: [function(t2, e, n) {
        "use strict";
        function i(t3, e2) {
          var n2, i2 = r(t3), o2 = ["address", "street", "place", "country"];
          if ("function" == typeof e2) return e2(i2);
          var s = o2.indexOf(e2);
          return n2 = -1 === s ? o2 : o2.slice(s), n2.reduce(function(t4, e3) {
            return i2[e3] ? ("" !== t4 && (t4 += ", "), t4 + i2[e3]) : t4;
          }, "");
        }
        function r(t3) {
          var e2 = t3.address || "", n2 = t3.text || "", i2 = t3.place_name || "", r2 = i2.split(",")[0], o2 = { address: r2, houseNumber: e2, street: n2, placeName: i2 };
          return t3.context.forEach(function(t4) {
            var e3 = t4.id.split(".")[0];
            o2[e3] = t4.text;
          }), o2;
        }
        var o = /^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/;
        e.exports = { transformFeatureToGeolocationText: i, getAddressInfo: r, REVERSE_GEOCODE_COORD_RGX: o };
      }, {}], 7: [function(t2, e, n) {
        "use strict";
        function i(t3) {
          var e2 = Array.isArray(t3), n2 = function(n3) {
            return e2 ? t3[n3] : t3;
          };
          return function(i2) {
            var o2 = r(g.plainArray, i2);
            if (o2) return o2;
            if (e2 && i2.length !== t3.length) return "an array with " + t3.length + " items";
            for (var s2 = 0; s2 < i2.length; s2++) if (o2 = r(n2(s2), i2[s2])) return [s2].concat(o2);
          };
        }
        function r(t3, e2) {
          if (null != e2 || t3.hasOwnProperty("__required")) {
            var n2 = t3(e2);
            return n2 ? Array.isArray(n2) ? n2 : [n2] : void 0;
          }
        }
        function o(t3, e2) {
          var n2 = t3.length, i2 = t3[n2 - 1], r2 = t3.slice(0, n2 - 1);
          return 0 === r2.length && (r2 = [d]), e2 = f(e2, { path: r2 }), "function" == typeof i2 ? i2(e2) : c(e2, a(i2));
        }
        function s(t3) {
          return t3.length < 2 ? t3[0] : 2 === t3.length ? t3.join(" or ") : t3.slice(0, -1).join(", ") + ", or " + t3.slice(-1);
        }
        function a(t3) {
          return "must be " + u(t3) + ".";
        }
        function u(t3) {
          return /^an? /.test(t3) ? t3 : /^[aeiou]/i.test(t3) ? "an " + t3 : /^[a-z]/i.test(t3) ? "a " + t3 : t3;
        }
        function c(t3, e2) {
          var n2 = l(t3.path), i2 = t3.path.join(".") + " " + e2;
          return (n2 ? "Item at position " : "") + i2;
        }
        function l(t3) {
          return "number" == typeof t3[t3.length - 1] || "number" == typeof t3[0];
        }
        function h(t3) {
          return Object.keys(t3 || {}).map(function(e2) {
            return { key: e2, value: t3[e2] };
          });
        }
        var p = t2("is-plain-obj"), f = t2("xtend"), d = "value", g = {};
        g.assert = function(t3, e2) {
          return e2 = e2 || {}, function(n2) {
            var i2 = r(t3, n2);
            if (i2) {
              var s2 = o(i2, e2);
              throw e2.apiName && (s2 = e2.apiName + ": " + s2), new Error(s2);
            }
          };
        }, g.shape = function(t3) {
          var e2 = h(t3);
          return function(t4) {
            var n2 = r(g.plainObject, t4);
            if (n2) return n2;
            for (var i2, s2, a2 = [], u2 = 0; u2 < e2.length; u2++) i2 = e2[u2].key, s2 = e2[u2].value, (n2 = r(s2, t4[i2])) && a2.push([i2].concat(n2));
            return a2.length < 2 ? a2[0] : function(t5) {
              a2 = a2.map(function(e4) {
                return "- " + e4[0] + ": " + o(e4, t5).split("\n").join("\n  ");
              });
              var e3 = t5.path.join(".");
              return "The following properties" + (e3 === d ? "" : " of " + e3) + " have invalid values:\n  " + a2.join("\n  ");
            };
          };
        }, g.strictShape = function(t3) {
          var e2 = g.shape(t3);
          return function(n2) {
            var i2 = e2(n2);
            if (i2) return i2;
            var r2 = Object.keys(n2).reduce(function(e3, n3) {
              return void 0 === t3[n3] && e3.push(n3), e3;
            }, []);
            return 0 !== r2.length ? function() {
              return "The following keys are invalid: " + r2.join(", ");
            } : void 0;
          };
        }, g.arrayOf = function(t3) {
          return i(t3);
        }, g.tuple = function() {
          return i(Array.isArray(arguments[0]) ? arguments[0] : Array.prototype.slice.call(arguments));
        }, g.required = function(t3) {
          function e2(e3) {
            return null == e3 ? function(t4) {
              return c(t4, l(t4.path) ? "cannot be undefined/null." : "is required.");
            } : t3.apply(this, arguments);
          }
          return e2.__required = true, e2;
        }, g.oneOfType = function() {
          var t3 = Array.isArray(arguments[0]) ? arguments[0] : Array.prototype.slice.call(arguments);
          return function(e2) {
            var n2 = t3.map(function(t4) {
              return r(t4, e2);
            }).filter(Boolean);
            if (n2.length === t3.length) return n2.every(function(t4) {
              return 1 === t4.length && "string" == typeof t4[0];
            }) ? s(n2.map(function(t4) {
              return t4[0];
            })) : n2.reduce(function(t4, e3) {
              return e3.length > t4.length ? e3 : t4;
            });
          };
        }, g.equal = function(t3) {
          return function(e2) {
            if (e2 !== t3) return JSON.stringify(t3);
          };
        }, g.oneOf = function() {
          var t3 = Array.isArray(arguments[0]) ? arguments[0] : Array.prototype.slice.call(arguments), e2 = t3.map(function(t4) {
            return g.equal(t4);
          });
          return g.oneOfType.apply(this, e2);
        }, g.range = function(t3) {
          var e2 = t3[0], n2 = t3[1];
          return function(t4) {
            if (r(g.number, t4) || t4 < e2 || t4 > n2) return "number between " + e2 + " & " + n2 + " (inclusive)";
          };
        }, g.any = function() {
        }, g.boolean = function(t3) {
          if ("boolean" != typeof t3) return "boolean";
        }, g.number = function(t3) {
          if ("number" != typeof t3) return "number";
        }, g.plainArray = function(t3) {
          if (!Array.isArray(t3)) return "array";
        }, g.plainObject = function(t3) {
          if (!p(t3)) return "object";
        }, g.string = function(t3) {
          if ("string" != typeof t3) return "string";
        }, g.func = function(t3) {
          if ("function" != typeof t3) return "function";
        }, g.validate = r, g.processMessage = o, e.exports = g;
      }, { "is-plain-obj": 30, xtend: 39 }], 8: [function(t2, e, n) {
        "use strict";
        var i = t2("./lib/client");
        e.exports = i;
      }, { "./lib/client": 9 }], 9: [function(t2, e, n) {
        "use strict";
        function i(t3) {
          s.call(this, t3);
        }
        function r(t3) {
          return new i(t3);
        }
        var o = t2("./browser-layer"), s = t2("../classes/mapi-client");
        i.prototype = Object.create(s.prototype), i.prototype.constructor = i, i.prototype.sendRequest = o.browserSend, i.prototype.abortRequest = o.browserAbort, e.exports = r;
      }, { "../classes/mapi-client": 11, "./browser-layer": 10 }], 10: [function(t2, e, n) {
        "use strict";
        function i(t3) {
          var e2 = f[t3.id];
          e2 && (e2.abort(), delete f[t3.id]);
        }
        function r(t3, e2) {
          return new c(t3, { body: e2.response, headers: p(e2.getAllResponseHeaders()), statusCode: e2.status });
        }
        function o(t3) {
          var e2 = t3.total, n2 = t3.loaded;
          return { total: e2, transferred: n2, percent: 100 * n2 / e2 };
        }
        function s(t3, e2) {
          return new Promise(function(n2, i2) {
            e2.onprogress = function(e3) {
              t3.emitter.emit(h.EVENT_PROGRESS_DOWNLOAD, o(e3));
            };
            var r2 = t3.file;
            r2 && (e2.upload.onprogress = function(e3) {
              t3.emitter.emit(h.EVENT_PROGRESS_UPLOAD, o(e3));
            }), e2.onerror = function(t4) {
              i2(t4);
            }, e2.onabort = function() {
              var e3 = new l({ request: t3, type: h.ERROR_REQUEST_ABORTED });
              i2(e3);
            }, e2.onload = function() {
              if (delete f[t3.id], e2.status < 200 || e2.status >= 400) {
                var r3 = new l({ request: t3, body: e2.response, statusCode: e2.status });
                return void i2(r3);
              }
              n2(e2);
            };
            var s2 = t3.body;
            "string" == typeof s2 ? e2.send(s2) : s2 ? e2.send(JSON.stringify(s2)) : r2 ? e2.send(r2) : e2.send(), f[t3.id] = e2;
          }).then(function(e3) {
            return r(t3, e3);
          });
        }
        function a(t3, e2) {
          var n2 = t3.url(e2), i2 = new window.XMLHttpRequest();
          return i2.open(t3.method, n2), Object.keys(t3.headers).forEach(function(e3) {
            i2.setRequestHeader(e3, t3.headers[e3]);
          }), i2;
        }
        function u(t3) {
          return Promise.resolve().then(function() {
            var e2 = a(t3, t3.client.accessToken);
            return s(t3, e2);
          });
        }
        var c = t2("../classes/mapi-response"), l = t2("../classes/mapi-error"), h = t2("../constants"), p = t2("../helpers/parse-headers"), f = {};
        e.exports = { browserAbort: i, sendRequestXhr: s, browserSend: u, createRequestXhr: a };
      }, { "../classes/mapi-error": 12, "../classes/mapi-response": 14, "../constants": 15, "../helpers/parse-headers": 16 }], 11: [function(t2, e, n) {
        "use strict";
        function i(t3) {
          if (!t3 || !t3.accessToken) throw new Error("Cannot create a client without an access token");
          r(t3.accessToken), this.accessToken = t3.accessToken, this.origin = t3.origin || s.API_ORIGIN;
        }
        var r = t2("@mapbox/parse-mapbox-token"), o = t2("./mapi-request"), s = t2("../constants");
        i.prototype.createRequest = function(t3) {
          return new o(this, t3);
        }, e.exports = i;
      }, { "../constants": 15, "./mapi-request": 13, "@mapbox/parse-mapbox-token": 25 }], 12: [function(t2, e, n) {
        "use strict";
        function i(t3) {
          var e2, n2 = t3.type || r.ERROR_HTTP;
          if (t3.body) try {
            e2 = JSON.parse(t3.body);
          } catch (n3) {
            e2 = t3.body;
          }
          else e2 = null;
          var i2 = t3.message || null;
          i2 || ("string" == typeof e2 ? i2 = e2 : e2 && "string" == typeof e2.message ? i2 = e2.message : n2 === r.ERROR_REQUEST_ABORTED && (i2 = "Request aborted")), this.message = i2, this.type = n2, this.statusCode = t3.statusCode || null, this.request = t3.request, this.body = e2;
        }
        var r = t2("../constants");
        e.exports = i;
      }, { "../constants": 15 }], 13: [function(t2, e, n) {
        "use strict";
        function i(t3, e2) {
          if (!t3) throw new Error("MapiRequest requires a client");
          if (!e2 || !e2.path || !e2.method) throw new Error("MapiRequest requires an options object with path and method properties");
          var n2 = {};
          e2.body && (n2["content-type"] = "application/json");
          var i2 = o(n2, e2.headers), r2 = Object.keys(i2).reduce(function(t4, e3) {
            return t4[e3.toLowerCase()] = i2[e3], t4;
          }, {});
          this.id = c++, this._options = e2, this.emitter = new s(), this.client = t3, this.response = null, this.error = null, this.sent = false, this.aborted = false, this.path = e2.path, this.method = e2.method, this.origin = e2.origin || t3.origin, this.query = e2.query || {}, this.params = e2.params || {}, this.body = e2.body || null, this.file = e2.file || null, this.encoding = e2.encoding || "utf8", this.sendFileAs = e2.sendFileAs || null, this.headers = r2;
        }
        var r = t2("@mapbox/parse-mapbox-token"), o = t2("xtend"), s = t2("eventemitter3"), a = t2("../helpers/url-utils"), u = t2("../constants"), c = 1;
        i.prototype.url = function(t3) {
          var e2 = a.prependOrigin(this.path, this.origin);
          e2 = a.appendQueryObject(e2, this.query);
          var n2 = this.params, i2 = null == t3 ? this.client.accessToken : t3;
          if (i2) {
            e2 = a.appendQueryParam(e2, "access_token", i2);
            var s2 = r(i2).user;
            n2 = o({ ownerId: s2 }, n2);
          }
          return e2 = a.interpolateRouteParams(e2, n2), e2;
        }, i.prototype.send = function() {
          var t3 = this;
          if (t3.sent) throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");
          return t3.sent = true, t3.client.sendRequest(t3).then(function(e2) {
            return t3.response = e2, t3.emitter.emit(u.EVENT_RESPONSE, e2), e2;
          }, function(e2) {
            throw t3.error = e2, t3.emitter.emit(u.EVENT_ERROR, e2), e2;
          });
        }, i.prototype.abort = function() {
          this._nextPageRequest && (this._nextPageRequest.abort(), delete this._nextPageRequest), this.response || this.error || this.aborted || (this.aborted = true, this.client.abortRequest(this));
        }, i.prototype.eachPage = function(t3) {
          function e2(e3) {
            function n3() {
              delete r2._nextPageRequest;
              var t4 = e3.nextPage();
              t4 && (r2._nextPageRequest = t4, i2(t4));
            }
            t3(null, e3, n3);
          }
          function n2(e3) {
            t3(e3, null, function() {
            });
          }
          function i2(t4) {
            t4.send().then(e2, n2);
          }
          var r2 = this;
          i2(this);
        }, i.prototype.clone = function() {
          return this._extend();
        }, i.prototype._extend = function(t3) {
          var e2 = o(this._options, t3);
          return new i(this.client, e2);
        }, e.exports = i;
      }, { "../constants": 15, "../helpers/url-utils": 18, "@mapbox/parse-mapbox-token": 25, eventemitter3: 28, xtend: 39 }], 14: [function(t2, e, n) {
        "use strict";
        function i(t3, e2) {
          this.request = t3, this.headers = e2.headers, this.rawBody = e2.body, this.statusCode = e2.statusCode;
          try {
            this.body = JSON.parse(e2.body || "{}");
          } catch (t4) {
            this.body = e2.body;
          }
          this.links = r(this.headers.link);
        }
        var r = t2("../helpers/parse-link-header");
        i.prototype.hasNextPage = function() {
          return !!this.links.next;
        }, i.prototype.nextPage = function() {
          return this.hasNextPage() ? this.request._extend({ path: this.links.next.url }) : null;
        }, e.exports = i;
      }, { "../helpers/parse-link-header": 17 }], 15: [function(t2, e, n) {
        "use strict";
        e.exports = { API_ORIGIN: "https://api.mapbox.com", EVENT_PROGRESS_DOWNLOAD: "downloadProgress", EVENT_PROGRESS_UPLOAD: "uploadProgress", EVENT_ERROR: "error", EVENT_RESPONSE: "response", ERROR_HTTP: "HttpError", ERROR_REQUEST_ABORTED: "RequestAbortedError" };
      }, {}], 16: [function(t2, e, n) {
        "use strict";
        function i(t3) {
          var e2 = t3.indexOf(":");
          return { name: t3.substring(0, e2).trim().toLowerCase(), value: t3.substring(e2 + 1).trim() };
        }
        function r(t3) {
          var e2 = {};
          return t3 ? (t3.trim().split(/[\r|\n]+/).forEach(function(t4) {
            var n2 = i(t4);
            e2[n2.name] = n2.value;
          }), e2) : e2;
        }
        e.exports = r;
      }, {}], 17: [function(t2, e, n) {
        "use strict";
        function i(t3) {
          var e2 = t3.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);
          return e2 ? { key: e2[1], value: e2[2] } : null;
        }
        function r(t3) {
          var e2 = t3.match(/<?([^>]*)>(.*)/);
          if (!e2) return null;
          var n2 = e2[1], r2 = e2[2].split(";"), o2 = null, s = r2.reduce(function(t4, e3) {
            var n3 = i(e3);
            return n3 ? "rel" === n3.key ? (o2 || (o2 = n3.value), t4) : (t4[n3.key] = n3.value, t4) : t4;
          }, {});
          return o2 ? { url: n2, rel: o2, params: s } : null;
        }
        function o(t3) {
          return t3 ? t3.split(/,\s*</).reduce(function(t4, e2) {
            var n2 = r(e2);
            return n2 ? (n2.rel.split(/\s+/).forEach(function(e3) {
              t4[e3] || (t4[e3] = { url: n2.url, params: n2.params });
            }), t4) : t4;
          }, {}) : {};
        }
        e.exports = o;
      }, {}], 18: [function(t2, e, n) {
        "use strict";
        function i(t3) {
          return t3.map(encodeURIComponent).join(",");
        }
        function r(t3) {
          return Array.isArray(t3) ? i(t3) : encodeURIComponent(String(t3));
        }
        function o(t3, e2, n2) {
          if (false === n2 || null === n2) return t3;
          var i2 = /\?/.test(t3) ? "&" : "?", o2 = encodeURIComponent(e2);
          return void 0 !== n2 && "" !== n2 && true !== n2 && (o2 += "=" + r(n2)), "" + t3 + i2 + o2;
        }
        function s(t3, e2) {
          if (!e2) return t3;
          var n2 = t3;
          return Object.keys(e2).forEach(function(t4) {
            var i2 = e2[t4];
            void 0 !== i2 && (Array.isArray(i2) && (i2 = i2.filter(function(t5) {
              return null !== t5 && void 0 !== t5;
            }).join(",")), n2 = o(n2, t4, i2));
          }), n2;
        }
        function a(t3, e2) {
          if (!e2) return t3;
          if ("http" === t3.slice(0, 4)) return t3;
          var n2 = "/" === t3[0] ? "" : "/";
          return "" + e2.replace(/\/$/, "") + n2 + t3;
        }
        function u(t3, e2) {
          return e2 ? t3.replace(/\/:([a-zA-Z0-9]+)/g, function(t4, n2) {
            var i2 = e2[n2];
            if (void 0 === i2) throw new Error("Unspecified route parameter " + n2);
            return "/" + r(i2);
          }) : t3;
        }
        e.exports = { appendQueryObject: s, appendQueryParam: o, prependOrigin: a, interpolateRouteParams: u };
      }, {}], 19: [function(t2, e, n) {
        "use strict";
        var i = t2("xtend"), r = t2("./service-helpers/validator"), o = t2("./service-helpers/pick"), s = t2("./service-helpers/stringify-booleans"), a = t2("./service-helpers/create-service-factory"), u = {}, c = ["country", "region", "postcode", "district", "place", "locality", "neighborhood", "address", "poi", "poi.landmark"];
        u.forwardGeocode = function(t3) {
          r.assertShape({ query: r.required(r.string), mode: r.oneOf("mapbox.places", "mapbox.places-permanent"), countries: r.arrayOf(r.string), proximity: r.oneOf(r.coordinates, "ip"), types: r.arrayOf(r.oneOf(c)), autocomplete: r.boolean, bbox: r.arrayOf(r.number), limit: r.number, language: r.arrayOf(r.string), routing: r.boolean, fuzzyMatch: r.boolean, worldview: r.string })(t3), t3.mode = t3.mode || "mapbox.places";
          var e2 = s(i({ country: t3.countries }, o(t3, ["proximity", "types", "autocomplete", "bbox", "limit", "language", "routing", "fuzzyMatch", "worldview"])));
          return this.client.createRequest({ method: "GET", path: "/geocoding/v5/:mode/:query.json", params: o(t3, ["mode", "query"]), query: e2 });
        }, u.reverseGeocode = function(t3) {
          r.assertShape({ query: r.required(r.coordinates), mode: r.oneOf("mapbox.places", "mapbox.places-permanent"), countries: r.arrayOf(r.string), types: r.arrayOf(r.oneOf(c)), bbox: r.arrayOf(r.number), limit: r.number, language: r.arrayOf(r.string), reverseMode: r.oneOf("distance", "score"), routing: r.boolean, worldview: r.string })(t3), t3.mode = t3.mode || "mapbox.places";
          var e2 = s(i({ country: t3.countries }, o(t3, ["country", "types", "bbox", "limit", "language", "reverseMode", "routing", "worldview"])));
          return this.client.createRequest({ method: "GET", path: "/geocoding/v5/:mode/:query.json", params: o(t3, ["mode", "query"]), query: e2 });
        }, e.exports = a(u);
      }, { "./service-helpers/create-service-factory": 20, "./service-helpers/pick": 22, "./service-helpers/stringify-booleans": 23, "./service-helpers/validator": 24, xtend: 39 }], 20: [function(t2, e, n) {
        "use strict";
        function i(t3) {
          return function(e2) {
            var n2;
            n2 = r.prototype.isPrototypeOf(e2) ? e2 : o(e2);
            var i2 = Object.create(t3);
            return i2.client = n2, i2;
          };
        }
        var r = t2("../../lib/classes/mapi-client"), o = t2("../../lib/client");
        e.exports = i;
      }, { "../../lib/classes/mapi-client": 11, "../../lib/client": 9 }], 21: [function(t2, e, n) {
        "use strict";
        function i(t3, e2) {
          return Object.keys(t3).reduce(function(n2, i2) {
            return n2[i2] = e2(i2, t3[i2]), n2;
          }, {});
        }
        e.exports = i;
      }, {}], 22: [function(t2, e, n) {
        "use strict";
        function i(t3, e2) {
          var n2 = function(t4, n3) {
            return -1 !== e2.indexOf(t4) && void 0 !== n3;
          };
          return "function" == typeof e2 && (n2 = e2), Object.keys(t3).filter(function(e3) {
            return n2(e3, t3[e3]);
          }).reduce(function(e3, n3) {
            return e3[n3] = t3[n3], e3;
          }, {});
        }
        e.exports = i;
      }, {}], 23: [function(t2, e, n) {
        "use strict";
        function i(t3) {
          return r(t3, function(t4, e2) {
            return "boolean" == typeof e2 ? JSON.stringify(e2) : e2;
          });
        }
        var r = t2("./object-map");
        e.exports = i;
      }, { "./object-map": 21 }], 24: [function(t2, e, n) {
        (function(n2) {
          (function() {
            "use strict";
            function i(t3) {
              if ("undefined" != typeof window) {
                if (t3 instanceof n2.Blob || t3 instanceof n2.ArrayBuffer) return;
                return "Blob or ArrayBuffer";
              }
              if ("string" != typeof t3 && void 0 === t3.pipe) return "Filename or Readable stream";
            }
            function r(t3, e2) {
              return u.assert(u.strictShape(t3), e2);
            }
            function o(t3) {
              if ("boolean" == typeof t3) return "date";
              try {
                var e2 = new Date(t3);
                if (e2.getTime && isNaN(e2.getTime())) return "date";
              } catch (t4) {
                return "date";
              }
            }
            function s(t3) {
              return u.tuple(u.number, u.number)(t3);
            }
            var a = t2("xtend"), u = t2("@mapbox/fusspot");
            e.exports = a(u, { file: i, date: o, coordinates: s, assertShape: r });
          }).call(this);
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
      }, { "@mapbox/fusspot": 7, xtend: 39 }], 25: [function(t2, e, n) {
        "use strict";
        function i(t3) {
          if (a[t3]) return a[t3];
          var e2 = t3.split("."), n2 = e2[0], i2 = e2[1];
          if (!i2) throw new Error("Invalid token");
          var s2 = r(i2), u = { usage: n2, user: s2.u };
          return o(s2, "a") && (u.authorization = s2.a), o(s2, "exp") && (u.expires = 1e3 * s2.exp), o(s2, "iat") && (u.created = 1e3 * s2.iat), o(s2, "scopes") && (u.scopes = s2.scopes), o(s2, "client") && (u.client = s2.client), o(s2, "ll") && (u.lastLogin = s2.ll), o(s2, "iu") && (u.impersonator = s2.iu), a[t3] = u, u;
        }
        function r(t3) {
          try {
            return JSON.parse(s.decode(t3));
          } catch (t4) {
            throw new Error("Invalid token");
          }
        }
        function o(t3, e2) {
          return Object.prototype.hasOwnProperty.call(t3, e2);
        }
        var s = t2("base-64"), a = {};
        e.exports = i;
      }, { "base-64": 26 }], 26: [function(e, n, i) {
        (function(e2) {
          (function() {
            "use strict";
            function r(t2) {
              "@babel/helpers - typeof";
              return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t3) {
                return typeof t3;
              } : function(t3) {
                return t3 && "function" == typeof Symbol && t3.constructor === Symbol && t3 !== Symbol.prototype ? "symbol" : typeof t3;
              })(t2);
            }
            !function(o) {
              var s = "object" == (void 0 === i ? "undefined" : r(i)) && i, a = "object" == (void 0 === n ? "undefined" : r(n)) && n && n.exports == s && n, u = "object" == (void 0 === e2 ? "undefined" : r(e2)) && e2;
              u.global !== u && u.window !== u || (o = u);
              var c = function(t2) {
                this.message = t2;
              };
              c.prototype = new Error(), c.prototype.name = "InvalidCharacterError";
              var l = function(t2) {
                throw new c(t2);
              }, h = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", p = /[\t\n\f\r ]/g, f = function(t2) {
                t2 = String(t2).replace(p, "");
                var e3 = t2.length;
                e3 % 4 == 0 && (t2 = t2.replace(/==?$/, ""), e3 = t2.length), (e3 % 4 == 1 || /[^+a-zA-Z0-9/]/.test(t2)) && l("Invalid character: the string to be decoded is not correctly encoded.");
                for (var n2, i2, r2 = 0, o2 = "", s2 = -1; ++s2 < e3; ) i2 = h.indexOf(t2.charAt(s2)), n2 = r2 % 4 ? 64 * n2 + i2 : i2, r2++ % 4 && (o2 += String.fromCharCode(255 & n2 >> (-2 * r2 & 6)));
                return o2;
              }, d = function(t2) {
                t2 = String(t2), /[^\0-\xFF]/.test(t2) && l("The string to be encoded contains characters outside of the Latin1 range.");
                for (var e3, n2, i2, r2, o2 = t2.length % 3, s2 = "", a2 = -1, u2 = t2.length - o2; ++a2 < u2; ) e3 = t2.charCodeAt(a2) << 16, n2 = t2.charCodeAt(++a2) << 8, i2 = t2.charCodeAt(++a2), r2 = e3 + n2 + i2, s2 += h.charAt(r2 >> 18 & 63) + h.charAt(r2 >> 12 & 63) + h.charAt(r2 >> 6 & 63) + h.charAt(63 & r2);
                return 2 == o2 ? (e3 = t2.charCodeAt(a2) << 8, n2 = t2.charCodeAt(++a2), r2 = e3 + n2, s2 += h.charAt(r2 >> 10) + h.charAt(r2 >> 4 & 63) + h.charAt(r2 << 2 & 63) + "=") : 1 == o2 && (r2 = t2.charCodeAt(a2), s2 += h.charAt(r2 >> 2) + h.charAt(r2 << 4 & 63) + "=="), s2;
              }, g = { encode: d, decode: f, version: "0.1.0" };
              if ("function" == typeof t && "object" == r(t.amd) && t.amd) t(function() {
                return g;
              });
              else if (s && !s.nodeType) if (a) a.exports = g;
              else for (var m in g) g.hasOwnProperty(m) && (s[m] = g[m]);
              else o.base64 = g;
            }(void 0);
          }).call(this);
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
      }, {}], 27: [function(t2, e, n) {
        "use strict";
        function i(t3) {
          "@babel/helpers - typeof";
          return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
            return typeof t4;
          } : function(t4) {
            return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
          })(t3);
        }
        function r() {
          this._events && Object.prototype.hasOwnProperty.call(this, "_events") || (this._events = x(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
        }
        function o(t3) {
          return void 0 === t3._maxListeners ? r.defaultMaxListeners : t3._maxListeners;
        }
        function s(t3, e2, n2) {
          if (e2) t3.call(n2);
          else for (var i2 = t3.length, r2 = y(t3, i2), o2 = 0; o2 < i2; ++o2) r2[o2].call(n2);
        }
        function a(t3, e2, n2, i2) {
          if (e2) t3.call(n2, i2);
          else for (var r2 = t3.length, o2 = y(t3, r2), s2 = 0; s2 < r2; ++s2) o2[s2].call(n2, i2);
        }
        function u(t3, e2, n2, i2, r2) {
          if (e2) t3.call(n2, i2, r2);
          else for (var o2 = t3.length, s2 = y(t3, o2), a2 = 0; a2 < o2; ++a2) s2[a2].call(n2, i2, r2);
        }
        function c(t3, e2, n2, i2, r2, o2) {
          if (e2) t3.call(n2, i2, r2, o2);
          else for (var s2 = t3.length, a2 = y(t3, s2), u2 = 0; u2 < s2; ++u2) a2[u2].call(n2, i2, r2, o2);
        }
        function l(t3, e2, n2, i2) {
          if (e2) t3.apply(n2, i2);
          else for (var r2 = t3.length, o2 = y(t3, r2), s2 = 0; s2 < r2; ++s2) o2[s2].apply(n2, i2);
        }
        function h(t3, e2, n2, r2) {
          var s2, a2, u2;
          if ("function" != typeof n2) throw new TypeError('"listener" argument must be a function');
          if (a2 = t3._events, a2 ? (a2.newListener && (t3.emit("newListener", e2, n2.listener ? n2.listener : n2), a2 = t3._events), u2 = a2[e2]) : (a2 = t3._events = x(null), t3._eventsCount = 0), u2) {
            if ("function" == typeof u2 ? u2 = a2[e2] = r2 ? [n2, u2] : [u2, n2] : r2 ? u2.unshift(n2) : u2.push(n2), !u2.warned && (s2 = o(t3)) && s2 > 0 && u2.length > s2) {
              u2.warned = true;
              var c2 = new Error("Possible EventEmitter memory leak detected. " + u2.length + ' "' + String(e2) + '" listeners added. Use emitter.setMaxListeners() to increase limit.');
              c2.name = "MaxListenersExceededWarning", c2.emitter = t3, c2.type = e2, c2.count = u2.length, "object" === ("undefined" == typeof console ? "undefined" : i(console)) && console.warn && console.warn("%s: %s", c2.name, c2.message);
            }
          } else u2 = a2[e2] = n2, ++t3._eventsCount;
          return t3;
        }
        function p() {
          if (!this.fired) switch (this.target.removeListener(this.type, this.wrapFn), this.fired = true, arguments.length) {
            case 0:
              return this.listener.call(this.target);
            case 1:
              return this.listener.call(this.target, arguments[0]);
            case 2:
              return this.listener.call(this.target, arguments[0], arguments[1]);
            case 3:
              return this.listener.call(this.target, arguments[0], arguments[1], arguments[2]);
            default:
              for (var t3 = new Array(arguments.length), e2 = 0; e2 < t3.length; ++e2) t3[e2] = arguments[e2];
              this.listener.apply(this.target, t3);
          }
        }
        function f(t3, e2, n2) {
          var i2 = { fired: false, wrapFn: void 0, target: t3, type: e2, listener: n2 }, r2 = O.call(p, i2);
          return r2.listener = n2, i2.wrapFn = r2, r2;
        }
        function d(t3, e2, n2) {
          var i2 = t3._events;
          if (!i2) return [];
          var r2 = i2[e2];
          return r2 ? "function" == typeof r2 ? n2 ? [r2.listener || r2] : [r2] : n2 ? v(r2) : y(r2, r2.length) : [];
        }
        function g(t3) {
          var e2 = this._events;
          if (e2) {
            var n2 = e2[t3];
            if ("function" == typeof n2) return 1;
            if (n2) return n2.length;
          }
          return 0;
        }
        function m(t3, e2) {
          for (var n2 = e2, i2 = n2 + 1, r2 = t3.length; i2 < r2; n2 += 1, i2 += 1) t3[n2] = t3[i2];
          t3.pop();
        }
        function y(t3, e2) {
          for (var n2 = new Array(e2), i2 = 0; i2 < e2; ++i2) n2[i2] = t3[i2];
          return n2;
        }
        function v(t3) {
          for (var e2 = new Array(t3.length), n2 = 0; n2 < e2.length; ++n2) e2[n2] = t3[n2].listener || t3[n2];
          return e2;
        }
        function b(t3) {
          var e2 = function() {
          };
          return e2.prototype = t3, new e2();
        }
        function _(t3) {
          var e2 = [];
          for (var n2 in t3) Object.prototype.hasOwnProperty.call(t3, n2) && e2.push(n2);
          return n2;
        }
        function w(t3) {
          var e2 = this;
          return function() {
            return e2.apply(t3, arguments);
          };
        }
        var x = Object.create || b, E = Object.keys || _, O = Function.prototype.bind || w;
        e.exports = r, r.EventEmitter = r, r.prototype._events = void 0, r.prototype._maxListeners = void 0;
        var L, k = 10;
        try {
          var A = {};
          Object.defineProperty && Object.defineProperty(A, "x", { value: 0 }), L = 0 === A.x;
        } catch (t3) {
          L = false;
        }
        L ? Object.defineProperty(r, "defaultMaxListeners", { enumerable: true, get: function() {
          return k;
        }, set: function(t3) {
          if ("number" != typeof t3 || t3 < 0 || t3 !== t3) throw new TypeError('"defaultMaxListeners" must be a positive number');
          k = t3;
        } }) : r.defaultMaxListeners = k, r.prototype.setMaxListeners = function(t3) {
          if ("number" != typeof t3 || t3 < 0 || isNaN(t3)) throw new TypeError('"n" argument must be a positive number');
          return this._maxListeners = t3, this;
        }, r.prototype.getMaxListeners = function() {
          return o(this);
        }, r.prototype.emit = function(t3) {
          var e2, n2, i2, r2, o2, h2, p2 = "error" === t3;
          if (h2 = this._events) p2 = p2 && null == h2.error;
          else if (!p2) return false;
          if (p2) {
            if (arguments.length > 1 && (e2 = arguments[1]), e2 instanceof Error) throw e2;
            var f2 = new Error('Unhandled "error" event. (' + e2 + ")");
            throw f2.context = e2, f2;
          }
          if (!(n2 = h2[t3])) return false;
          var d2 = "function" == typeof n2;
          switch (i2 = arguments.length) {
            case 1:
              s(n2, d2, this);
              break;
            case 2:
              a(n2, d2, this, arguments[1]);
              break;
            case 3:
              u(n2, d2, this, arguments[1], arguments[2]);
              break;
            case 4:
              c(n2, d2, this, arguments[1], arguments[2], arguments[3]);
              break;
            default:
              for (r2 = new Array(i2 - 1), o2 = 1; o2 < i2; o2++) r2[o2 - 1] = arguments[o2];
              l(n2, d2, this, r2);
          }
          return true;
        }, r.prototype.addListener = function(t3, e2) {
          return h(this, t3, e2, false);
        }, r.prototype.on = r.prototype.addListener, r.prototype.prependListener = function(t3, e2) {
          return h(this, t3, e2, true);
        }, r.prototype.once = function(t3, e2) {
          if ("function" != typeof e2) throw new TypeError('"listener" argument must be a function');
          return this.on(t3, f(this, t3, e2)), this;
        }, r.prototype.prependOnceListener = function(t3, e2) {
          if ("function" != typeof e2) throw new TypeError('"listener" argument must be a function');
          return this.prependListener(t3, f(this, t3, e2)), this;
        }, r.prototype.removeListener = function(t3, e2) {
          var n2, i2, r2, o2, s2;
          if ("function" != typeof e2) throw new TypeError('"listener" argument must be a function');
          if (!(i2 = this._events)) return this;
          if (!(n2 = i2[t3])) return this;
          if (n2 === e2 || n2.listener === e2) 0 == --this._eventsCount ? this._events = x(null) : (delete i2[t3], i2.removeListener && this.emit("removeListener", t3, n2.listener || e2));
          else if ("function" != typeof n2) {
            for (r2 = -1, o2 = n2.length - 1; o2 >= 0; o2--) if (n2[o2] === e2 || n2[o2].listener === e2) {
              s2 = n2[o2].listener, r2 = o2;
              break;
            }
            if (r2 < 0) return this;
            0 === r2 ? n2.shift() : m(n2, r2), 1 === n2.length && (i2[t3] = n2[0]), i2.removeListener && this.emit("removeListener", t3, s2 || e2);
          }
          return this;
        }, r.prototype.removeAllListeners = function(t3) {
          var e2, n2, i2;
          if (!(n2 = this._events)) return this;
          if (!n2.removeListener) return 0 === arguments.length ? (this._events = x(null), this._eventsCount = 0) : n2[t3] && (0 == --this._eventsCount ? this._events = x(null) : delete n2[t3]), this;
          if (0 === arguments.length) {
            var r2, o2 = E(n2);
            for (i2 = 0; i2 < o2.length; ++i2) "removeListener" !== (r2 = o2[i2]) && this.removeAllListeners(r2);
            return this.removeAllListeners("removeListener"), this._events = x(null), this._eventsCount = 0, this;
          }
          if ("function" == typeof (e2 = n2[t3])) this.removeListener(t3, e2);
          else if (e2) for (i2 = e2.length - 1; i2 >= 0; i2--) this.removeListener(t3, e2[i2]);
          return this;
        }, r.prototype.listeners = function(t3) {
          return d(this, t3, true);
        }, r.prototype.rawListeners = function(t3) {
          return d(this, t3, false);
        }, r.listenerCount = function(t3, e2) {
          return "function" == typeof t3.listenerCount ? t3.listenerCount(e2) : g.call(t3, e2);
        }, r.prototype.listenerCount = g, r.prototype.eventNames = function() {
          return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];
        };
      }, {}], 28: [function(t2, e, n) {
        "use strict";
        function i() {
        }
        function r(t3, e2, n2) {
          this.fn = t3, this.context = e2, this.once = n2 || false;
        }
        function o(t3, e2, n2, i2, o2) {
          if ("function" != typeof n2) throw new TypeError("The listener must be a function");
          var s2 = new r(n2, i2 || t3, o2), a2 = c ? c + e2 : e2;
          return t3._events[a2] ? t3._events[a2].fn ? t3._events[a2] = [t3._events[a2], s2] : t3._events[a2].push(s2) : (t3._events[a2] = s2, t3._eventsCount++), t3;
        }
        function s(t3, e2) {
          0 == --t3._eventsCount ? t3._events = new i() : delete t3._events[e2];
        }
        function a() {
          this._events = new i(), this._eventsCount = 0;
        }
        var u = Object.prototype.hasOwnProperty, c = "~";
        Object.create && (i.prototype = /* @__PURE__ */ Object.create(null), new i().__proto__ || (c = false)), a.prototype.eventNames = function() {
          var t3, e2, n2 = [];
          if (0 === this._eventsCount) return n2;
          for (e2 in t3 = this._events) u.call(t3, e2) && n2.push(c ? e2.slice(1) : e2);
          return Object.getOwnPropertySymbols ? n2.concat(Object.getOwnPropertySymbols(t3)) : n2;
        }, a.prototype.listeners = function(t3) {
          var e2 = c ? c + t3 : t3, n2 = this._events[e2];
          if (!n2) return [];
          if (n2.fn) return [n2.fn];
          for (var i2 = 0, r2 = n2.length, o2 = new Array(r2); i2 < r2; i2++) o2[i2] = n2[i2].fn;
          return o2;
        }, a.prototype.listenerCount = function(t3) {
          var e2 = c ? c + t3 : t3, n2 = this._events[e2];
          return n2 ? n2.fn ? 1 : n2.length : 0;
        }, a.prototype.emit = function(t3, e2, n2, i2, r2, o2) {
          var s2 = c ? c + t3 : t3;
          if (!this._events[s2]) return false;
          var a2, u2, l = this._events[s2], h = arguments.length;
          if (l.fn) {
            switch (l.once && this.removeListener(t3, l.fn, void 0, true), h) {
              case 1:
                return l.fn.call(l.context), true;
              case 2:
                return l.fn.call(l.context, e2), true;
              case 3:
                return l.fn.call(l.context, e2, n2), true;
              case 4:
                return l.fn.call(l.context, e2, n2, i2), true;
              case 5:
                return l.fn.call(l.context, e2, n2, i2, r2), true;
              case 6:
                return l.fn.call(l.context, e2, n2, i2, r2, o2), true;
            }
            for (u2 = 1, a2 = new Array(h - 1); u2 < h; u2++) a2[u2 - 1] = arguments[u2];
            l.fn.apply(l.context, a2);
          } else {
            var p, f = l.length;
            for (u2 = 0; u2 < f; u2++) switch (l[u2].once && this.removeListener(t3, l[u2].fn, void 0, true), h) {
              case 1:
                l[u2].fn.call(l[u2].context);
                break;
              case 2:
                l[u2].fn.call(l[u2].context, e2);
                break;
              case 3:
                l[u2].fn.call(l[u2].context, e2, n2);
                break;
              case 4:
                l[u2].fn.call(l[u2].context, e2, n2, i2);
                break;
              default:
                if (!a2) for (p = 1, a2 = new Array(h - 1); p < h; p++) a2[p - 1] = arguments[p];
                l[u2].fn.apply(l[u2].context, a2);
            }
          }
          return true;
        }, a.prototype.on = function(t3, e2, n2) {
          return o(this, t3, e2, n2, false);
        }, a.prototype.once = function(t3, e2, n2) {
          return o(this, t3, e2, n2, true);
        }, a.prototype.removeListener = function(t3, e2, n2, i2) {
          var r2 = c ? c + t3 : t3;
          if (!this._events[r2]) return this;
          if (!e2) return s(this, r2), this;
          var o2 = this._events[r2];
          if (o2.fn) o2.fn !== e2 || i2 && !o2.once || n2 && o2.context !== n2 || s(this, r2);
          else {
            for (var a2 = 0, u2 = [], l = o2.length; a2 < l; a2++) (o2[a2].fn !== e2 || i2 && !o2[a2].once || n2 && o2[a2].context !== n2) && u2.push(o2[a2]);
            u2.length ? this._events[r2] = 1 === u2.length ? u2[0] : u2 : s(this, r2);
          }
          return this;
        }, a.prototype.removeAllListeners = function(t3) {
          var e2;
          return t3 ? (e2 = c ? c + t3 : t3, this._events[e2] && s(this, e2)) : (this._events = new i(), this._eventsCount = 0), this;
        }, a.prototype.off = a.prototype.removeListener, a.prototype.addListener = a.prototype.on, a.prefixed = c, a.EventEmitter = a, void 0 !== e && (e.exports = a);
      }, {}], 29: [function(t2, e, n) {
        "use strict";
        !function() {
          var t3 = this, i = {};
          void 0 !== n ? e.exports = i : t3.fuzzy = i, i.simpleFilter = function(t4, e2) {
            return e2.filter(function(e3) {
              return i.test(t4, e3);
            });
          }, i.test = function(t4, e2) {
            return null !== i.match(t4, e2);
          }, i.match = function(t4, e2, n2) {
            n2 = n2 || {};
            var i2, r = 0, o = [], s = e2.length, a = 0, u = 0, c = n2.pre || "", l = n2.post || "", h = n2.caseSensitive && e2 || e2.toLowerCase();
            t4 = n2.caseSensitive && t4 || t4.toLowerCase();
            for (var p = 0; p < s; p++) i2 = e2[p], h[p] === t4[r] ? (i2 = c + i2 + l, r += 1, u += 1 + u) : u = 0, a += u, o[o.length] = i2;
            return r === t4.length ? (a = h === t4 ? 1 / 0 : a, { rendered: o.join(""), score: a }) : null;
          }, i.filter = function(t4, e2, n2) {
            return e2 && 0 !== e2.length ? "string" != typeof t4 ? e2 : (n2 = n2 || {}, e2.reduce(function(e3, r, o, s) {
              var a = r;
              n2.extract && (a = n2.extract(r));
              var u = i.match(t4, a, n2);
              return null != u && (e3[e3.length] = { string: u.rendered, score: u.score, index: o, original: r }), e3;
            }, []).sort(function(t5, e3) {
              var n3 = e3.score - t5.score;
              return n3 || t5.index - e3.index;
            })) : [];
          };
        }();
      }, {}], 30: [function(t2, e, n) {
        "use strict";
        var i = Object.prototype.toString;
        e.exports = function(t3) {
          var e2;
          return "[object Object]" === i.call(t3) && (null === (e2 = Object.getPrototypeOf(t3)) || e2 === Object.getPrototypeOf({}));
        };
      }, {}], 31: [function(t2, e, n) {
        (function(t3) {
          (function() {
            "use strict";
            function n2(t4) {
              "@babel/helpers - typeof";
              return (n2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t5) {
                return typeof t5;
              } : function(t5) {
                return t5 && "function" == typeof Symbol && t5.constructor === Symbol && t5 !== Symbol.prototype ? "symbol" : typeof t5;
              })(t4);
            }
            function i(t4, e2, n3) {
              function i2(e3) {
                var n4 = g2, i3 = m2;
                return g2 = m2 = void 0, O = e3, v2 = t4.apply(i3, n4);
              }
              function o2(t5) {
                return O = t5, b2 = setTimeout(l2, e2), L ? i2(t5) : v2;
              }
              function s2(t5) {
                var n4 = t5 - _2, i3 = t5 - O, r2 = e2 - n4;
                return k ? x(r2, y2 - i3) : r2;
              }
              function c2(t5) {
                var n4 = t5 - _2, i3 = t5 - O;
                return void 0 === _2 || n4 >= e2 || n4 < 0 || k && i3 >= y2;
              }
              function l2() {
                var t5 = E();
                if (c2(t5)) return h2(t5);
                b2 = setTimeout(l2, s2(t5));
              }
              function h2(t5) {
                return b2 = void 0, A && g2 ? i2(t5) : (g2 = m2 = void 0, v2);
              }
              function p2() {
                void 0 !== b2 && clearTimeout(b2), O = 0, g2 = _2 = m2 = b2 = void 0;
              }
              function f2() {
                return void 0 === b2 ? v2 : h2(E());
              }
              function d2() {
                var t5 = E(), n4 = c2(t5);
                if (g2 = arguments, m2 = this, _2 = t5, n4) {
                  if (void 0 === b2) return o2(_2);
                  if (k) return b2 = setTimeout(l2, e2), i2(_2);
                }
                return void 0 === b2 && (b2 = setTimeout(l2, e2)), v2;
              }
              var g2, m2, y2, v2, b2, _2, O = 0, L = false, k = false, A = true;
              if ("function" != typeof t4) throw new TypeError(u);
              return e2 = a(e2) || 0, r(n3) && (L = !!n3.leading, k = "maxWait" in n3, y2 = k ? w(a(n3.maxWait) || 0, e2) : y2, A = "trailing" in n3 ? !!n3.trailing : A), d2.cancel = p2, d2.flush = f2, d2;
            }
            function r(t4) {
              var e2 = n2(t4);
              return !!t4 && ("object" == e2 || "function" == e2);
            }
            function o(t4) {
              return !!t4 && "object" == n2(t4);
            }
            function s(t4) {
              return "symbol" == n2(t4) || o(t4) && _.call(t4) == l;
            }
            function a(t4) {
              if ("number" == typeof t4) return t4;
              if (s(t4)) return c;
              if (r(t4)) {
                var e2 = "function" == typeof t4.valueOf ? t4.valueOf() : t4;
                t4 = r(e2) ? e2 + "" : e2;
              }
              if ("string" != typeof t4) return 0 === t4 ? t4 : +t4;
              t4 = t4.replace(h, "");
              var n3 = f.test(t4);
              return n3 || d.test(t4) ? g(t4.slice(2), n3 ? 2 : 8) : p.test(t4) ? c : +t4;
            }
            var u = "Expected a function", c = NaN, l = "[object Symbol]", h = /^\s+|\s+$/g, p = /^[-+]0x[0-9a-f]+$/i, f = /^0b[01]+$/i, d = /^0o[0-7]+$/i, g = parseInt, m = "object" == (void 0 === t3 ? "undefined" : n2(t3)) && t3 && t3.Object === Object && t3, y = "object" == ("undefined" == typeof self ? "undefined" : n2(self)) && self && self.Object === Object && self, v = m || y || Function("return this")(), b = Object.prototype, _ = b.toString, w = Math.max, x = Math.min, E = function() {
              return v.Date.now();
            };
            e.exports = i;
          }).call(this);
        }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
      }, {}], 32: [function(t2, e, n) {
        (function(n2) {
          (function() {
            "use strict";
            var i = t2("./url-alphabet/index.cjs"), r = i.urlAlphabet;
            if ("production" !== n2.env.NODE_ENV) {
              if ("undefined" != typeof navigator && "ReactNative" === navigator.product && "undefined" == typeof crypto) throw new Error("React Native does not have a built-in secure random generator. If you don’t need unpredictable IDs use `nanoid/non-secure`. For secure IDs, import `react-native-get-random-values` before Nano ID.");
              if ("undefined" != typeof msCrypto && "undefined" == typeof crypto) throw new Error("Import file with `if (!window.crypto) window.crypto = window.msCrypto` before importing Nano ID to fix IE 11 support");
              if ("undefined" == typeof crypto) throw new Error("Your browser does not have secure random generator. If you don’t need unpredictable IDs, you can use nanoid/non-secure.");
            }
            var o = function(t3) {
              return crypto.getRandomValues(new Uint8Array(t3));
            }, s = function(t3, e2, n3) {
              var i2 = (2 << Math.log(t3.length - 1) / Math.LN2) - 1, r2 = -~(1.6 * i2 * e2 / t3.length);
              return function() {
                for (var o2 = ""; ; ) for (var s2 = n3(r2), a2 = r2; a2--; ) if (o2 += t3[s2[a2] & i2] || "", o2.length === e2) return o2;
              };
            }, a = function(t3, e2) {
              return s(t3, e2, o);
            }, u = function() {
              for (var t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 21, e2 = "", n3 = crypto.getRandomValues(new Uint8Array(t3)); t3--; ) {
                var i2 = 63 & n3[t3];
                e2 += i2 < 36 ? i2.toString(36) : i2 < 62 ? (i2 - 26).toString(36).toUpperCase() : i2 < 63 ? "_" : "-";
              }
              return e2;
            };
            e.exports = { nanoid: u, customAlphabet: a, customRandom: s, urlAlphabet: r, random: o };
          }).call(this);
        }).call(this, t2("_process"));
      }, { "./url-alphabet/index.cjs": 33, _process: 34 }], 33: [function(t2, e, n) {
        "use strict";
        e.exports = { urlAlphabet: "useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict" };
      }, {}], 34: [function(t2, e, n) {
        "use strict";
        function i() {
          throw new Error("setTimeout has not been defined");
        }
        function r() {
          throw new Error("clearTimeout has not been defined");
        }
        function o(t3) {
          if (h === setTimeout) return setTimeout(t3, 0);
          if ((h === i || !h) && setTimeout) return h = setTimeout, setTimeout(t3, 0);
          try {
            return h(t3, 0);
          } catch (e2) {
            try {
              return h.call(null, t3, 0);
            } catch (e3) {
              return h.call(this, t3, 0);
            }
          }
        }
        function s(t3) {
          if (p === clearTimeout) return clearTimeout(t3);
          if ((p === r || !p) && clearTimeout) return p = clearTimeout, clearTimeout(t3);
          try {
            return p(t3);
          } catch (e2) {
            try {
              return p.call(null, t3);
            } catch (e3) {
              return p.call(this, t3);
            }
          }
        }
        function a() {
          m && d && (m = false, d.length ? g = d.concat(g) : y = -1, g.length && u());
        }
        function u() {
          if (!m) {
            var t3 = o(a);
            m = true;
            for (var e2 = g.length; e2; ) {
              for (d = g, g = []; ++y < e2; ) d && d[y].run();
              y = -1, e2 = g.length;
            }
            d = null, m = false, s(t3);
          }
        }
        function c(t3, e2) {
          this.fun = t3, this.array = e2;
        }
        function l() {
        }
        var h, p, f = e.exports = {};
        !function() {
          try {
            h = "function" == typeof setTimeout ? setTimeout : i;
          } catch (t3) {
            h = i;
          }
          try {
            p = "function" == typeof clearTimeout ? clearTimeout : r;
          } catch (t3) {
            p = r;
          }
        }();
        var d, g = [], m = false, y = -1;
        f.nextTick = function(t3) {
          var e2 = new Array(arguments.length - 1);
          if (arguments.length > 1) for (var n2 = 1; n2 < arguments.length; n2++) e2[n2 - 1] = arguments[n2];
          g.push(new c(t3, e2)), 1 !== g.length || m || o(u);
        }, c.prototype.run = function() {
          this.fun.apply(null, this.array);
        }, f.title = "browser", f.browser = true, f.env = {}, f.argv = [], f.version = "", f.versions = {}, f.on = l, f.addListener = l, f.once = l, f.off = l, f.removeListener = l, f.removeAllListeners = l, f.emit = l, f.prependListener = l, f.prependOnceListener = l, f.listeners = function(t3) {
          return [];
        }, f.binding = function(t3) {
          throw new Error("process.binding is not supported");
        }, f.cwd = function() {
          return "/";
        }, f.chdir = function(t3) {
          throw new Error("process.chdir is not supported");
        }, f.umask = function() {
          return 0;
        };
      }, {}], 35: [function(t2, e, n) {
        "use strict";
        !function(t3, n2, i) {
          void 0 !== e && e.exports ? e.exports = i() : t3.subtag = i();
        }(void 0, 0, function() {
          function t3(t4) {
            return t4.match(s) || [];
          }
          function e2(e3) {
            return t3(e3).filter(function(t4, e4) {
              return t4 && e4;
            });
          }
          function n2(e3) {
            return e3 = t3(e3), { language: e3[1] || o, extlang: e3[2] || o, script: e3[3] || o, region: e3[4] || o };
          }
          function i(t4, e3, n3) {
            Object.defineProperty(t4, e3, { value: n3, enumerable: true });
          }
          function r(e3, r2, s2) {
            function a(n3) {
              return t3(n3)[e3] || o;
            }
            i(a, "pattern", r2), i(n2, s2, a);
          }
          var o = "", s = /^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;
          return r(1, /^[a-zA-Z]{2,3}$/, "language"), r(2, /^[a-zA-Z]{3}$/, "extlang"), r(3, /^[a-zA-Z]{4}$/, "script"), r(4, /^[a-zA-Z]{2}$|^[0-9]{3}$/, "region"), i(n2, "split", e2), n2;
        });
      }, {}], 36: [function(t2, e, n) {
        "use strict";
        var i = t2("./src/suggestions");
        e.exports = i, "undefined" != typeof window && (window.Suggestions = i);
      }, { "./src/suggestions": 38 }], 37: [function(t2, e, n) {
        "use strict";
        var i = function(t3) {
          return this.component = t3, this.items = [], this.active = 0, this.wrapper = document.createElement("div"), this.wrapper.className = "suggestions-wrapper", this.element = document.createElement("ul"), this.element.className = "suggestions", this.wrapper.appendChild(this.element), this.selectingListItem = false, t3.el.parentNode.insertBefore(this.wrapper, t3.el.nextSibling), this;
        };
        i.prototype.show = function() {
          this.element.style.display = "block";
        }, i.prototype.hide = function() {
          this.element.style.display = "none";
        }, i.prototype.add = function(t3) {
          this.items.push(t3);
        }, i.prototype.clear = function() {
          this.items = [], this.active = 0;
        }, i.prototype.isEmpty = function() {
          return !this.items.length;
        }, i.prototype.isVisible = function() {
          return "block" === this.element.style.display;
        }, i.prototype.draw = function() {
          if (this.element.innerHTML = "", 0 === this.items.length) return void this.hide();
          for (var t3 = 0; t3 < this.items.length; t3++) this.drawItem(this.items[t3], this.active === t3);
          this.show();
        }, i.prototype.drawItem = function(t3, e2) {
          var n2 = document.createElement("li"), i2 = document.createElement("a");
          e2 && (n2.className += " active"), i2.innerHTML = t3.string, n2.appendChild(i2), this.element.appendChild(n2), n2.addEventListener("mousedown", (function() {
            this.selectingListItem = true;
          }).bind(this)), n2.addEventListener("mouseup", (function() {
            this.handleMouseUp.call(this, t3);
          }).bind(this));
        }, i.prototype.handleMouseUp = function(t3) {
          this.selectingListItem = false, this.component.value(t3.original), this.clear(), this.draw();
        }, i.prototype.move = function(t3) {
          this.active = t3, this.draw();
        }, i.prototype.previous = function() {
          this.move(0 === this.active ? this.items.length - 1 : this.active - 1);
        }, i.prototype.next = function() {
          this.move(this.active === this.items.length - 1 ? 0 : this.active + 1);
        }, i.prototype.drawError = function(t3) {
          var e2 = document.createElement("li");
          e2.innerHTML = t3, this.element.appendChild(e2), this.show();
        }, e.exports = i;
      }, {}], 38: [function(t2, e, n) {
        "use strict";
        var i = t2("xtend"), r = t2("fuzzy"), o = t2("./list"), s = function(t3, e2, n2) {
          return n2 = n2 || {}, this.options = i({ minLength: 2, limit: 5, filter: true, hideOnBlur: true }, n2), this.el = t3, this.data = e2 || [], this.list = new o(this), this.query = "", this.selected = null, this.list.draw(), this.el.addEventListener("keyup", (function(t4) {
            this.handleKeyUp(t4.keyCode);
          }).bind(this), false), this.el.addEventListener("keydown", (function(t4) {
            this.handleKeyDown(t4);
          }).bind(this)), this.el.addEventListener("focus", (function() {
            this.handleFocus();
          }).bind(this)), this.el.addEventListener("blur", (function() {
            this.handleBlur();
          }).bind(this)), this.el.addEventListener("paste", (function(t4) {
            this.handlePaste(t4);
          }).bind(this)), this.render = this.options.render ? this.options.render.bind(this) : this.render.bind(this), this.getItemValue = this.options.getItemValue ? this.options.getItemValue.bind(this) : this.getItemValue.bind(this), this;
        };
        s.prototype.handleKeyUp = function(t3) {
          40 !== t3 && 38 !== t3 && 27 !== t3 && 13 !== t3 && 9 !== t3 && this.handleInputChange(this.el.value);
        }, s.prototype.handleKeyDown = function(t3) {
          switch (t3.keyCode) {
            case 13:
            case 9:
              this.list.isEmpty() || (this.list.isVisible() && t3.preventDefault(), this.value(this.list.items[this.list.active].original), this.list.hide());
              break;
            case 27:
              this.list.isEmpty() || this.list.hide();
              break;
            case 38:
              this.list.previous();
              break;
            case 40:
              this.list.next();
          }
        }, s.prototype.handleBlur = function() {
          !this.list.selectingListItem && this.options.hideOnBlur && this.list.hide();
        }, s.prototype.handlePaste = function(t3) {
          if (t3.clipboardData) this.handleInputChange(t3.clipboardData.getData("Text"));
          else {
            var e2 = this;
            setTimeout(function() {
              e2.handleInputChange(t3.target.value);
            }, 100);
          }
        }, s.prototype.handleInputChange = function(t3) {
          if (this.query = this.normalize(t3), this.list.clear(), this.query.length < this.options.minLength) return void this.list.draw();
          this.getCandidates((function(t4) {
            for (var e2 = 0; e2 < t4.length && (this.list.add(t4[e2]), e2 !== this.options.limit - 1); e2++) ;
            this.list.draw();
          }).bind(this));
        }, s.prototype.handleFocus = function() {
          this.list.isEmpty() || this.list.show(), this.list.selectingListItem = false;
        }, s.prototype.update = function(t3) {
          this.data = t3, this.handleKeyUp();
        }, s.prototype.clear = function() {
          this.data = [], this.list.clear();
        }, s.prototype.normalize = function(t3) {
          return t3 = t3.toLowerCase();
        }, s.prototype.match = function(t3, e2) {
          return t3.indexOf(e2) > -1;
        }, s.prototype.value = function(t3) {
          if (this.selected = t3, this.el.value = this.getItemValue(t3), document.createEvent) {
            var e2 = document.createEvent("HTMLEvents");
            e2.initEvent("change", true, false), this.el.dispatchEvent(e2);
          } else this.el.fireEvent("onchange");
        }, s.prototype.getCandidates = function(t3) {
          var e2, n2 = { pre: "<strong>", post: "</strong>", extract: (function(t4) {
            return this.getItemValue(t4);
          }).bind(this) };
          this.options.filter ? (e2 = r.filter(this.query, this.data, n2), e2 = e2.map((function(t4) {
            return { original: t4.original, string: this.render(t4.original, t4.string) };
          }).bind(this))) : e2 = this.data.map((function(t4) {
            return { original: t4, string: this.render(t4) };
          }).bind(this)), t3(e2);
        }, s.prototype.getItemValue = function(t3) {
          return t3;
        }, s.prototype.render = function(t3, e2) {
          if (e2) return e2;
          for (var n2 = t3.original ? this.getItemValue(t3.original) : this.getItemValue(t3), i2 = this.normalize(n2), r2 = i2.lastIndexOf(this.query); r2 > -1; ) {
            var o2 = r2 + this.query.length;
            n2 = n2.slice(0, r2) + "<strong>" + n2.slice(r2, o2) + "</strong>" + n2.slice(o2), r2 = i2.slice(0, r2).lastIndexOf(this.query);
          }
          return n2;
        }, s.prototype.renderError = function(t3) {
          this.list.drawError(t3);
        }, e.exports = s;
      }, { "./list": 37, fuzzy: 29, xtend: 39 }], 39: [function(t2, e, n) {
        "use strict";
        function i() {
          for (var t3 = {}, e2 = 0; e2 < arguments.length; e2++) {
            var n2 = arguments[e2];
            for (var i2 in n2) r.call(n2, i2) && (t3[i2] = n2[i2]);
          }
          return t3;
        }
        e.exports = i;
        var r = Object.prototype.hasOwnProperty;
      }, {}] }, {}, [4])(4);
    });
  }
});
export default require_mapbox_gl_geocoder_min();
//# sourceMappingURL=@mapbox_mapbox-gl-geocoder_dist_mapbox-gl-geocoder__min__js.js.map
