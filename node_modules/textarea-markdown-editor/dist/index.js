/*! For license information please see index.js.LICENSE.txt */
(()=>{var e={441:(e,t,n)=>{var r;!function(o,i,a){if(o){for(var l,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},s={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)c[111+p]="f"+p;for(p=0;p<=9;++p)c[p+96]=p.toString();g.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},g.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},g.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},g.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},g.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(b(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},g.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},g.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(c[t]=e[t]);l=null},g.init=function(){var e=g(i);for(var t in e)"_"!==t.charAt(0)&&(g[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},g.init(),o.Mousetrap=g,e.exports&&(e.exports=g),void 0===(r=function(){return g}.call(t,n,t,e))||(e.exports=r)}function d(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function h(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return c[e.which]?c[e.which]:u[e.which]?u[e.which]:String.fromCharCode(e.which).toLowerCase()}function v(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function y(e,t,n){return n||(n=function(){if(!l)for(var e in l={},c)e>95&&e<112||c.hasOwnProperty(e)&&(l[c[e]]=e);return l}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function m(e,t){var n,r,o,i=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),o=0;o<n.length;++o)r=n[o],f[r]&&(r=f[r]),t&&"keypress"!=t&&s[r]&&(r=s[r],i.push("shift")),v(r)&&i.push(r);return{key:r,modifiers:i,action:t=y(r,i,t)}}function b(e,t){return null!==e&&e!==i&&(e===t||b(e.parentNode,t))}function g(e){var t=this;if(e=e||i,!(t instanceof g))return new g(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},o=!1,a=!1,l=!1;function c(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(l=!1)}function u(e,n,o,i,a,l){var c,u,s,f,p=[],d=o.type;if(!t._callbacks[e])return[];for("keyup"==d&&v(e)&&(n=[e]),c=0;c<t._callbacks[e].length;++c)if(u=t._callbacks[e][c],(i||!u.seq||r[u.seq]==u.level)&&d==u.action&&("keypress"==d&&!o.metaKey&&!o.ctrlKey||(s=n,f=u.modifiers,s.sort().join(",")===f.sort().join(",")))){var h=!i&&u.combo==a,y=i&&u.seq==i&&u.level==l;(h||y)&&t._callbacks[e].splice(c,1),p.push(u)}return p}function s(e,n,r,o){t.stopCallback(n,n.target||n.srcElement,r,o)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function f(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=h(e);n&&("keyup"!=e.type||o!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):o=!1)}function p(e,i,a,f,d){t._directMap[e+":"+a]=i;var v,y=(e=e.replace(/\s+/g," ")).split(" ");y.length>1?function(e,t,i,a){function u(t){return function(){l=t,++r[e],clearTimeout(n),n=setTimeout(c,1e3)}}function f(t){s(i,t,e),"keyup"!==a&&(o=h(t)),setTimeout(c,10)}r[e]=0;for(var d=0;d<t.length;++d){var v=d+1===t.length?f:u(a||m(t[d+1]).action);p(t[d],v,a,e,d)}}(e,y,i,a):(v=m(e,a),t._callbacks[v.key]=t._callbacks[v.key]||[],u(v.key,v.modifiers,{type:v.action},f,e,d),t._callbacks[v.key][f?"unshift":"push"]({callback:i,modifiers:v.modifiers,action:v.action,seq:f,level:d,combo:e}))}t._handleKey=function(e,t,n){var r,o=u(e,t,n),i={},f=0,p=!1;for(r=0;r<o.length;++r)o[r].seq&&(f=Math.max(f,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=f)continue;p=!0,i[o[r].seq]=1,s(o[r].callback,n,o[r].combo,o[r].seq)}else p||s(o[r].callback,n,o[r].combo);var d="keypress"==n.type&&a;n.type!=l||v(e)||d||c(i),a=p&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)p(e[r],t,n)},d(e,"keypress",f),d(e,"keydown",f),d(e,"keyup",f)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},821:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),d=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||h}function b(){}function g(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||h}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=m.prototype;var E=g.prototype=new b;E.constructor=g,v(E,m.prototype),E.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,w={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function R(e,t,r){var o,i={},a=null,l=null;if(null!=t)for(o in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,o)&&!S.hasOwnProperty(o)&&(i[o]=t[o]);var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){for(var u=Array(c),s=0;s<c;s++)u[s]=arguments[s+2];i.children=u}if(e&&e.defaultProps)for(o in c=e.defaultProps)void 0===i[o]&&(i[o]=c[o]);return{$$typeof:n,type:e,key:a,ref:l,props:i,_owner:w.current}}function _(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,o,i,a){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var c=!1;if(null===e)c=!0;else switch(l){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===i?"."+P(c,0):i,x(a)?(o="",null!=e&&(o=e.replace(A,"$&/")+"/"),C(a,t,o,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;if(c=0,i=""===i?".":i+":",x(e))for(var u=0;u<e.length;u++){var s=i+P(l=e[u],u);c+=C(l,t,o,s,a)}else if(s=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof s)for(e=s.call(e),u=0;!(l=e.next()).done;)c+=C(l=l.value,t,o,s=i+P(l,u++),a);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function O(e,t,n){if(null==e)return e;var r=[],o=0;return C(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},T={transition:null},M={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:T,ReactCurrentOwner:w};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=o,t.Profiler=a,t.PureComponent=g,t.StrictMode=i,t.Suspense=s,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=v({},e.props),i=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)k.call(t,u)&&!S.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){c=Array(u);for(var s=0;s<u;s++)c[s]=arguments[s+2];o.children=c}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:l}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=R,t.createFactory=function(e){var t=R.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.1.0"},849:(e,t,n)=>{"use strict";e.exports=n(821)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e,t=n(441),r=n.n(t),o=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return["command+".concat(e.join("+")),"ctrl+".concat(e.join("+"))]},a=function(e,t){for(var n=e.length;n--;)if(t(e[n],n,e))return e[n]},l=function(e,t,n){return e>=Math.min(t,n)&&e<=Math.max(t,n)};function c(t){if("TEXTAREA"!==t.nodeName)return!1;if(void 0===e){var n=document.createElement("textarea");n.value="1",e=Boolean(n.firstChild)}return e}function u(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var s=function(e){try{return"string"==typeof e&&Boolean(new URL(e))}catch(e){return!1}},f=function(){function e(e){this.limit=e,this.stack=[]}return e.prototype.push=function(e){this.stack=o(o([],this.stack,!0),[e],!1).slice(-this.limit)},e.prototype.peek=function(){return this.stack[this.stack.length-1]},e.prototype.pop=function(){return this.stack.pop()},e.prototype.pop2=function(){return this.stack.pop(),this.stack.pop()},e}(),p=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},d="\0",h=function(){function e(e){this.element=e,this.MARKER=d}return Object.defineProperty(e.prototype,"value",{get:function(){return this.element.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lines",{get:function(){return this.value.split("\n").reduce((function(e,t,n){var r=n+1,o=0===n,i=e.map((function(e){return e.text})).join("\n").length+(o?0:1),a=i+(t+"\n").length-1;return p(p([],e,!0),[{text:t,lineNumber:r,startsAt:i,endsAt:a}],!1)}),[])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){var e=this.element.selectionStart,t=this.element.selectionEnd,n=this.element.selectionDirection,r=this.value.slice(e,t),o=this.lines.filter((function(n){return l(e,n.startsAt,n.endsAt)||l(t,n.startsAt,n.endsAt)||l(n.startsAt,e,t)||l(n.endsAt,e,t)}));return e===t?null:{lines:o,selectionStart:e,selectionEnd:t,selectionDirection:n,text:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){var e=this.element.selectionStart,t=this.lines.find((function(t){return e>=t.startsAt&&e<=t.endsAt}));return{cursorAt:e,line:t}},enumerable:!1,configurable:!0}),e.prototype.setValue=function(e){var t=this.execRaw(e);(function(e,t){if(e.focus(),e.select(),!document.execCommand||!document.execCommand("insertText",!1,t)){var n=e.selectionStart,r=e.selectionEnd;if("function"==typeof e.setRangeText)e.setRangeText(t);else{var o=document.createRange(),i=document.createTextNode(t);if(c(e)){var a=e.firstChild;if(a){for(var l=0,u=null,s=null;a&&(null===u||null===s);){var f=a.nodeValue.length;n>=l&&n<=l+f&&o.setStart(u=a,n-l),r>=l&&r<=l+f&&o.setEnd(s=a,r-l),l+=f,a=a.nextSibling}n!==r&&o.deleteContents()}else e.appendChild(i)}c(e)&&"#text"===o.commonAncestorContainer.nodeName?o.insertNode(i):e.value=t}var p=document.createEvent("UIEvent");p.initEvent("input",!0,!1),e.dispatchEvent(p)}})(this.element,t.text),null===t.selectionStart&&null===t.selectionEnd||(null===t.selectionStart||null!==t.selectionEnd&&t.selectionStart!==t.selectionEnd?this.element.setSelectionRange(t.selectionStart,t.selectionEnd):(this.element.selectionStart=t.selectionStart,this.element.selectionEnd=t.selectionStart))},e.prototype.lineAt=function(e){var t;return null!==(t=this.lines[e-1])&&void 0!==t?t:null},e.prototype.insert=function(e){if(this.selection){var t=this.selection.selectionStart,n=this.selection.selectionEnd,r=this.value.slice(0,t)+this.normalizeSelection(e)+this.value.slice(n);this.setValue(r)}else this.insertAtCursor(e)},e.prototype.insertAtCursor=function(e){var t=this.position.cursorAt,n=this.value.slice(0,t)+this.normalizeSelection(e)+this.value.slice(t,this.value.length);this.setValue(n)},e.prototype.replaceCurrentLines=function(e,t){var n,r,o=this,i=(null!=t?t:{}).selectReplaced,a=void 0!==i&&i,l=null!==(r=null===(n=this.selection)||void 0===n?void 0:n.lines)&&void 0!==r?r:[this.lineAt(this.position.line.lineNumber)],c=l.map((function(t,n){return e.call(o,t,n,l)})).filter((function(e){return null!==e})).join("\n"),u=l[0].startsAt,s=l[l.length-1].endsAt,f=this.value.slice(0,u)+this.normalizeSelection(c,a?"SELECT_ALL":"TO_END")+this.value.slice(s);this.setValue(f)},e.prototype.replaceLine=function(e,t){var n=this.lineAt(e);if(n){var r=n.startsAt,o=n.endsAt;if(null!==t){var i=this.value.slice(0,r)+this.normalizeSelection(t)+this.value.slice(o);this.setValue(i)}else this.setValue(this.value.slice(0,r-1)+d+this.value.slice(o))}else console.error("Unknown line number: "+e)},e.prototype.wrap=function(e,t){var n,r,o,i,a=null!=t?t:{},l=a.unwrap,c=void 0===l||l,u=a.placeholder,s=void 0===u?"":u,f=Array.isArray(e)?e:[e,e],p=f[0],h=f[1],v=this.value,y=null!==(r=null===(n=this.selection)||void 0===n?void 0:n.selectionStart)&&void 0!==r?r:this.position.cursorAt,m=null!==(i=null===(o=this.selection)||void 0===o?void 0:o.selectionEnd)&&void 0!==i?i:this.position.cursorAt;if(this.isSelectedWrappedWith(e)&&c){var b=[v.slice(0,y-p.length),d,v.slice(y,m),d,v.slice(m+h.length)].join("");this.setValue(b)}else{var g=[v.slice(0,y),p,d,v.slice(y,m)||s,d,h,v.slice(m)].join("");this.setValue(g)}},e.prototype.isSelectedWrappedWith=function(e){var t,n,r,o,i=Array.isArray(e)?e:[e,e],a=i[0],l=i[1],c=null!==(n=null===(t=this.selection)||void 0===t?void 0:t.selectionStart)&&void 0!==n?n:this.position.cursorAt,u=null!==(o=null===(r=this.selection)||void 0===r?void 0:r.selectionEnd)&&void 0!==o?o:this.position.cursorAt;if(c-a.length<0||u-1+l.length>this.value.length-1)return!1;var s=this.value.slice(c-a.length,c),f=this.value.slice(u,u+l.length);return s===a&&f===l},e.prototype.select=function(e){var t;t=e,Object.prototype.hasOwnProperty.call(t,"start")&&Object.prototype.hasOwnProperty.call(t,"end")?this.element.setSelectionRange(e.start,e.end):this.element.setSelectionRange(this.element.selectionStart+e.fromCurrentStart,this.element.selectionEnd+e.fromCurrentEnd)},e.prototype.normalizeSelection=function(e,t){if(void 0===t&&(t="TO_END"),e.includes(d))return e;switch(t){case"TO_START":return"".concat(d).concat(e);case"TO_END":return"".concat(e).concat(d);case"SELECT_ALL":return"".concat(d).concat(e).concat(d)}},e.prototype.execRaw=function(e){var t=e.indexOf(d),n=e.lastIndexOf(d),r=null,o=null;return-1!==t&&(r=t,o=-1===n||n===t?null:n-1),{text:e.replace(new RegExp(d,"g"),""),selectionStart:r,selectionEnd:o}},e.MARKER=d,e}(),v=function(e){var t=e.cursor,n=e.options.codeBlockPlaceholder;t.wrap(["```\n","\n```"],{placeholder:n})},y=function(e){var t=e.cursor,n=e.options.codeInlinePlaceholder;t.wrap("`",{placeholder:n})},m=function(e){return function(t){var n,r=t.cursor,o=t.options,i="#".repeat((n=e,1,6,Math.min(Math.max(1,n),6)))+" ",a=o.headlinePlaceholder,l=a instanceof Function?a(e):a,c=r.position.line,u=c.text.slice(0,e+1)===i,s=c.text.replace(/^#{0,6}\s+/,"")||l;r.replaceLine(c.lineNumber,"".concat(u?"":i).concat(h.MARKER).concat(s).concat(h.MARKER))}},b=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},g=[{shortcut:i("b"),handler:function(e){var t=e.cursor,n=e.options,r=n.preferredBoldSyntax,o=n.boldPlaceholder;t.wrap(r,{placeholder:o})},name:"bold"},{shortcut:i("i"),handler:function(e){var t=e.cursor,n=e.options,r=n.preferredItalicSyntax,o=n.italicPlaceholder;t.wrap(r,{placeholder:o})},name:"italic"},{name:"link",handler:function(e){var t,n=e.options,r=e.cursor,o=n.linkTextPlaceholder,i=n.linkUrlPlaceholder,a=(null===(t=r.selection)||void 0===t?void 0:t.text)||o,l=i;r.insert("[".concat(a,"](").concat(h.MARKER).concat(l).concat(h.MARKER,")"))}},{name:"image",handler:function(e){var t,n=e.options,r=e.cursor,o=n.imageTextPlaceholder,i=n.imageUrlPlaceholder,a=(null===(t=r.selection)||void 0===t?void 0:t.text)||o,l=i;r.insert("![".concat(a,"](").concat(h.MARKER).concat(l).concat(h.MARKER,")"))}},{name:"unordered-list",handler:function(e){var t,n,r=e.cursor,o=e.options.preferredUnorderedListSyntax,i=new RegExp("^".concat(u(o),"\\s+")),a=(null!==(n=null===(t=r.selection)||void 0===t?void 0:t.lines)&&void 0!==n?n:[r.position.line]).every((function(e){return i.test(e.text)}));r.replaceCurrentLines((function(e){return a?e.text.replace(i,""):"".concat(o," ").concat(e.text)}),{selectReplaced:Boolean(r.selection)})}},{name:"ordered-list",handler:function(e){var t,n,r=e.cursor,o=/(\d+\.){1,2}\s+/,i=(null!==(n=null===(t=r.selection)||void 0===t?void 0:t.lines)&&void 0!==n?n:[r.position.line]).every((function(e){return o.test(e.text)}));r.replaceCurrentLines((function(e,t){return i?e.text.replace(o,""):"".concat(t+1,". ").concat(e.text)}),{selectReplaced:Boolean(r.selection)})}},{name:"code-block",handler:v},{name:"code-inline",handler:y},{name:"code",handler:function(e){var t,n;(null!==(n=null===(t=e.cursor.selection)||void 0===t?void 0:t.lines)&&void 0!==n?n:[]).length>1?v(e):y(e)}},{name:"block-quotes",handler:function(e){var t=e.cursor,n=e.options;t.replaceCurrentLines((function(e,t,r){return[0===t?"> ":"",0===t?h.MARKER:"",e.text.replace(/^>\s+/,"")||(0===t?n.blockQuotesPlaceholder:""),t===r.length-1?h.MARKER:""].join("")}))}},{shortcut:b(b([],i("shift","x"),!0),["alt+shift+f5"],!1),name:"strike-through",handler:function(e){var t=e.cursor,n=e.options.strikeThroughPlaceholder;t.wrap("~~",{placeholder:n})}},{name:"h1",handler:m(1)},{name:"h2",handler:m(2)},{name:"h3",handler:m(3)},{name:"h4",handler:m(4)},{name:"h5",handler:m(5)},{name:"h6",handler:m(6)}],E=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},x=function(e){var t=new h(e),n=function(e){var n,r,o=null===(n=null==e?void 0:e.clipboardData)||void 0===n?void 0:n.getData("text"),i=!!t.selection&&Array.from(t.value.matchAll(/\[[^\]]*\]\([^)]*\)/g)).map((function(e){return[e.index,e.index+e[0].length]})).some((function(e){var n=e[0],r=e[1];return l(t.selection.selectionStart,n,r)||l(t.selection.selectionEnd,n,r)}));o&&s(o)&&t.selection&&!s(t.selection.text)&&!i&&(null==e||e.preventDefault(),s(r=o)&&null!==r.match(/\.(jpeg|jpg|gif|png)$/)?t.insert("![".concat(t.selection.text,"](").concat(o,") ").concat(h.MARKER)):t.insert("[".concat(t.selection.text,"](").concat(o,") ").concat(h.MARKER)))};return e.addEventListener("paste",n),function(){return e.removeEventListener("paste",n)}},k=function(e){var t=r()(e),n=new h(e);return t.bind("tab",(function(e){null==e||e.preventDefault();var t=" ".repeat(4);n.selection?n.replaceCurrentLines((function(e){return t+e.text}),{selectReplaced:!0}):n.insert("".concat(t).concat(h.MARKER))})),t.bind("shift+tab",(function(e){null==e||e.preventDefault(),n.replaceCurrentLines((function(e){return e.text.replace(/\s{0,4}/,"")}),{selectReplaced:Boolean(n.selection)})})),function(){return t.reset()}},w=function(e,t){var n=new h(e),r=function(e){return e instanceof RegExp?e:new RegExp(u(e))},o=t.customPrefixWrapping.map((function(e){return"string"==typeof e?{prefix:e,prefixPattern:r(e)}:e})),i=[{prefix:"".concat(t.preferredUnorderedListSyntax," "),shouldBreakIfEmpty:!0,shouldSaveIndent:!0},{prefixPattern:/(\d+\.){1,2}\s+/,prefix:function(e){var t,n,r,o,i,a;return r=null!==(n=null===(t=/^(\s*((\d+\.){1,2})\s+.*)$/.exec(e.text))||void 0===t?void 0:t[2])&&void 0!==n?n:"",i=(o=r.trim(),o.replace(new RegExp("^["+u(".")+"]+|[.]+$","g"),"")).split("."),a=parseInt(i[i.length-1]),(1===i.length?"".concat(a+1,"."):"".concat(i.slice(0,-1).join("."),".").concat(a+1,"."))+" "},shouldBreakIfEmpty:!0,shouldSaveIndent:!0}],a=E(E([],o,!0),i,!0),l=function(e){if("Enter"===e.code){var t=n.lineAt(n.position.line.lineNumber),o=a.map((function(e){var n,o=e.prefix instanceof Function?e.prefix(t):e.prefix,i=r(null!==(n=e.prefixPattern)&&void 0!==n?n:o);return{prefix:o,pattern:i,shouldBreak:!1!==e.shouldBreakIfEmpty&&!t.text.replace(i,"").trim(),shouldSaveIndent:!1!==e.shouldSaveIndent}})),i=o.find((function(e){var n;return(n=e.pattern,new RegExp("^\\s*(".concat(n.source,").*$"))).test(t.text)}));if(i){var l=i.prefix,c=i.shouldBreak,u=i.shouldSaveIndent;if(c)n.replaceLine(t.lineNumber,"");else{null==e||e.preventDefault();var s,f,p,d=u?(s=t.text," ".repeat(null!==(p=null===(f=s.match(/^\s*/))||void 0===f?void 0:f[0].length)&&void 0!==p?p:0)):"";n.insert("\n".concat(d).concat(l).concat(h.MARKER))}}}};return e.addEventListener("keydown",l),function(){return e.removeEventListener("keydown",l)}},S=function(e){var t=new h(e),n=r()(e);return n.bind(i("backspace"),(function(e){""===t.position.line.text&&(e.preventDefault(),t.replaceLine(t.position.line.lineNumber,null))})),function(){return n.reset()}},R=function(e){var t=new h(e),n=/^\s*(\d+(\.\d+)?\.?)\)\s*/,r=function(r){var o,i;if("Enter"===r.code){var a=t.position.line.text,l=a.match(n);if(l){null==r||r.preventDefault();var c=" ".repeat(null!==(i=null===(o=a.match(/^\s*/))||void 0===o?void 0:o[0].length)&&void 0!==i?i:0),u=l[1],s="".concat(c).concat(u,". ").concat(a.slice(l[0].length));t.replaceLine(t.position.line.lineNumber,s),e.dispatchEvent(new KeyboardEvent("keydown",r))}}};return e.addEventListener("keydown",r),function(){return e.removeEventListener("keydown",r)}},_=function(e){var t=new f(200),n=new h(e),o=r()(e);e.addEventListener("input",(function(){var n;e.value!==(null===(n=t.peek())||void 0===n?void 0:n.value)&&t.push({value:e.value,selectionStart:e.selectionStart,selectionEnd:e.selectionEnd})})),o.bind(i("z"),(function(r){var o;r.preventDefault();var i=null!==(o=t.pop2())&&void 0!==o?o:{value:"",selectionEnd:0,selectionStart:0};n.setValue(i.value),e.selectionStart=i.selectionStart,e.selectionEnd=i.selectionEnd}))},A=["bold","italic","strike-through","h1","h2","h3","h4","h5","h6","unordered-list","ordered-list","code-block","code-inline","code","link","image","block-quotes"],P={preferredUnorderedListSyntax:"-",preferredBoldSyntax:"**",preferredItalicSyntax:"*",enableIndentExtension:!0,enableLinkPasteExtension:!0,enablePrefixWrappingExtension:!0,enableProperLineRemoveBehaviorExtension:!0,enableOrderedListAutoCorrectExtension:!1,customPrefixWrapping:[],boldPlaceholder:"bold",italicPlaceholder:"italic",strikeThroughPlaceholder:"strike through",codeInlinePlaceholder:"code",codeBlockPlaceholder:"code block",orderedListPlaceholder:"ordered list",unorderedListPlaceholder:"unordered list",headlinePlaceholder:function(e){return"headline ".concat(e)},blockQuotesPlaceholder:"quote",linkTextPlaceholder:"example",linkUrlPlaceholder:"url",imageTextPlaceholder:"example",imageUrlPlaceholder:"image.png"},C=function(){return C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},C.apply(this,arguments)},O=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},L=function(e){return null!==e&&"object"==typeof e&&!0===e.__keyboard},j=n(849),T=function(){return T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},T.apply(this,arguments)},M=(0,j.forwardRef)((function(e,t){var n=e.commands,r=e.options,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["commands","options"]),i=(0,j.useRef)(null);return $({ref:t,options:r,commands:n,textareaRef:i}),j.createElement("textarea",T({ref:i},o))})),I=(0,j.forwardRef)((function(e,t){var n=e.children,r=e.commands,o=e.options,i=(0,j.useRef)(),a=(0,j.useRef)(null);return(0,j.useEffect)((function(){if(!i.current&&a.current){if(1!==j.Children.count(n))throw new TypeError("TextareaMarkdownWrapper: expected single react-element as a child");i.current=function(e){var t="TextareaMarkdown wrapper: child element must be instance of HTMLTextAreaElement or container with an textarea element";if(!e)throw new TypeError(t);if(e instanceof HTMLTextAreaElement)return e;var n=e.querySelector("textarea");if(n instanceof HTMLTextAreaElement)return n;throw new TypeError(t)}(a.current.previousElementSibling)}}),[n]),$({ref:t,options:o,commands:r,textareaRef:i}),j.createElement(j.Fragment,null,n,j.createElement("div",{style:{display:"none"},ref:a}))}));M.Wrapper=I;var $=function(e){var t=e.commands,n=e.options,o=e.ref,i=e.textareaRef;(0,j.useEffect)((function(){if(i.current){var e=function(e,t){void 0===t&&(t={});var n=new h(e),o=new(r())(e),i=function(e){void 0===e&&(e=[]);var t=O([],g,!0);return null==e||e.forEach((function(e){if(A.includes(e.name)){var n=g.findIndex((function(t){return t.name===e.name})),r={name:t[n].name,handler:t[n].handler,enable:e.enable,shortcut:e.shortcut};t[n]=r}else{if(!(e.handler&&e.handler instanceof Function))throw new TypeError("Custom command should have a handler function");t.push(e)}})),t}(t.commands),l=C(C({},P),t.options),c=function(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var c=a(i,(function(e){return e.name===t})),u=L(r[0])?r[0].keyEvent:void 0,s=L(r[0])?[]:r;if(!c)throw new TypeError('Command with name "'.concat(t,'" is not defined'));!1!==c.enable&&(e.focus(),c.handler.apply(c,O([{textarea:e,keyEvent:u,options:l,cursor:n}],null!=s?s:[],!1)))};i.forEach((function(e){e.shortcut&&o.bind(e.shortcut,(function(t){e.shortcutPreventDefault&&t.preventDefault(),c(e.name,{__keyboard:!0,keyEvent:t})}))}));var u=[_(e),l.enableIndentExtension&&k(e),l.enableLinkPasteExtension&&x(e),l.enablePrefixWrappingExtension&&w(e,l),l.enableProperLineRemoveBehaviorExtension&&S(e),l.enableOrderedListAutoCorrectExtension&&R(e)];return{trigger:c,dispose:function(){o.reset(),u.forEach((function(e){return e instanceof Function&&e()}))},cursor:n}}(i.current,{commands:t,options:n}),l=e.dispose,c=e.trigger,u=e.cursor;return function(e){return null!==e&&"object"==typeof e}(o)&&(o.current=Object.assign(i.current,{trigger:c,cursor:u})),l}}),[JSON.stringify({commands:t,options:n})])}})()})();